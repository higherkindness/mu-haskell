<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Mu.Rpc.Annotations</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">mu-rpc-0.4.0.0: Protocol-independent declaration of services and servers.</span><ul class="links" id="page-menu"><li><a href="src/Mu.Rpc.Annotations.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Mu.Rpc.Annotations</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Libraries can define custom annotations to
indicate additional information not found
in the <code><a href="Mu-Rpc.html#t:Package" title="Mu.Rpc">Package</a></code> itself. For example, GraphQL
has optional default values for arguments.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:RpcAnnotation">RpcAnnotation</a> domain serviceName methodName argName <span class="keyword">where</span><ul class="subs"><li><a href="#v:AnnPackage">AnnPackage</a> :: domain -&gt; <a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain serviceName methodName argName</li><li><a href="#v:AnnService">AnnService</a> :: serviceName -&gt; domain -&gt; <a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain serviceName methodName argName</li><li><a href="#v:AnnMethod">AnnMethod</a> :: serviceName -&gt; methodName -&gt; domain -&gt; <a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain serviceName methodName argName</li><li><a href="#v:AnnArg">AnnArg</a> :: serviceName -&gt; methodName -&gt; argName -&gt; domain -&gt; <a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain serviceName methodName argName</li></ul></li><li class="src short"><span class="keyword">type family</span> <a href="#t:AnnotatedPackage">AnnotatedPackage</a> domain (sch :: <a href="Mu-Rpc.html#t:Package" title="Mu.Rpc">Package</a> serviceName methodName argName tyRef) :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain serviceName methodName argName]</li><li class="src short"><span class="keyword">type family</span> <a href="#t:GetPackageAnnotation">GetPackageAnnotation</a> (anns :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain s m a]) :: domain <span class="keyword">where ...</span></li><li class="src short"><span class="keyword">type family</span> <a href="#t:GetServiceAnnotation">GetServiceAnnotation</a> (anns :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain s m a]) (snm :: s) :: domain <span class="keyword">where ...</span></li><li class="src short"><span class="keyword">type family</span> <a href="#t:GetMethodAnnotation">GetMethodAnnotation</a> (anns :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain s m a]) (snm :: s) (mnm :: m) :: domain <span class="keyword">where ...</span></li><li class="src short"><span class="keyword">type family</span> <a href="#t:GetArgAnnotation">GetArgAnnotation</a> (anns :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain s m a]) (snm :: s) (mnm :: m) (anm :: a) :: domain <span class="keyword">where ...</span></li><li class="src short"><span class="keyword">type family</span> <a href="#t:GetArgAnnotationMay">GetArgAnnotationMay</a> (anns :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain s m a]) (snm :: s) (mnm :: m) (anm :: a) :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> domain <span class="keyword">where ...</span></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RpcAnnotation" class="def">RpcAnnotation</a> domain serviceName methodName argName <span class="keyword">where</span> <a href="src/Mu.Rpc.Annotations.html#RpcAnnotation" class="link">Source</a> <a href="#t:RpcAnnotation" class="selflink">#</a></p><div class="doc"><p>Annotations proper.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AnnPackage" class="def">AnnPackage</a> :: domain -&gt; <a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain serviceName methodName argName</td><td class="doc"><p>Annotation over the whole package.</p></td></tr><tr><td class="src"><a id="v:AnnService" class="def">AnnService</a> :: serviceName -&gt; domain -&gt; <a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain serviceName methodName argName</td><td class="doc"><p>Annotation over a service.</p></td></tr><tr><td class="src"><a id="v:AnnMethod" class="def">AnnMethod</a> :: serviceName -&gt; methodName -&gt; domain -&gt; <a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain serviceName methodName argName</td><td class="doc"><p>Annotation over a method.</p></td></tr><tr><td class="src"><a id="v:AnnArg" class="def">AnnArg</a> :: serviceName -&gt; methodName -&gt; argName -&gt; domain -&gt; <a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain serviceName methodName argName</td><td class="doc"><p>Annotation over an argument.</p></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:AnnotatedPackage" class="def">AnnotatedPackage</a> domain (sch :: <a href="Mu-Rpc.html#t:Package" title="Mu.Rpc">Package</a> serviceName methodName argName tyRef) :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain serviceName methodName argName] <a href="src/Mu.Rpc.Annotations.html#AnnotatedPackage" class="link">Source</a> <a href="#t:AnnotatedPackage" class="selflink">#</a></p><div class="doc"><p>This type family links each schema to
   its corresponding annotations from one domain.</p></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:GetPackageAnnotation" class="def">GetPackageAnnotation</a> (anns :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain s m a]) :: domain <span class="keyword">where ...</span> <a href="src/Mu.Rpc.Annotations.html#GetPackageAnnotation" class="link">Source</a> <a href="#t:GetPackageAnnotation" class="selflink">#</a></p><div class="doc"><p>Find the annotation over the package in the given set.
   If the annotation cannot be found, raise a <code><a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a></code>.</p></div><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetPackageAnnotation" title="Mu.Rpc.Annotations">GetPackageAnnotation</a> '[] = <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a> ('<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;cannot find schema annotation&quot;)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetPackageAnnotation" title="Mu.Rpc.Annotations">GetPackageAnnotation</a> ('<a href="Mu-Rpc-Annotations.html#v:AnnPackage" title="Mu.Rpc.Annotations">AnnPackage</a> d ': rs) = d</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetPackageAnnotation" title="Mu.Rpc.Annotations">GetPackageAnnotation</a> (r ': rs) = <a href="Mu-Rpc-Annotations.html#t:GetPackageAnnotation" title="Mu.Rpc.Annotations">GetPackageAnnotation</a> rs</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:GetServiceAnnotation" class="def">GetServiceAnnotation</a> (anns :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain s m a]) (snm :: s) :: domain <span class="keyword">where ...</span> <a href="src/Mu.Rpc.Annotations.html#GetServiceAnnotation" class="link">Source</a> <a href="#t:GetServiceAnnotation" class="selflink">#</a></p><div class="doc"><p>Find the annotation over the given service in the given set.
   If the annotation cannot be found, raise a <code><a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a></code>.</p></div><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetServiceAnnotation" title="Mu.Rpc.Annotations">GetServiceAnnotation</a> '[] snm = <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a> ('<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;cannot find annotation for &quot; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> snm)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetServiceAnnotation" title="Mu.Rpc.Annotations">GetServiceAnnotation</a> ('<a href="Mu-Rpc-Annotations.html#v:AnnService" title="Mu.Rpc.Annotations">AnnService</a> snm d ': rs) snm = d</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetServiceAnnotation" title="Mu.Rpc.Annotations">GetServiceAnnotation</a> (r ': rs) snm = <a href="Mu-Rpc-Annotations.html#t:GetServiceAnnotation" title="Mu.Rpc.Annotations">GetServiceAnnotation</a> rs snm</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:GetMethodAnnotation" class="def">GetMethodAnnotation</a> (anns :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain s m a]) (snm :: s) (mnm :: m) :: domain <span class="keyword">where ...</span> <a href="src/Mu.Rpc.Annotations.html#GetMethodAnnotation" class="link">Source</a> <a href="#t:GetMethodAnnotation" class="selflink">#</a></p><div class="doc"><p>Find the annotation over the given method in the given service.
   If the annotation cannot be found, raise a <code><a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a></code>.</p></div><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetMethodAnnotation" title="Mu.Rpc.Annotations">GetMethodAnnotation</a> '[] snm mnm = <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a> ((('<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;cannot find annotation for &quot; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> snm) <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;/&quot;) <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> mnm)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetMethodAnnotation" title="Mu.Rpc.Annotations">GetMethodAnnotation</a> ('<a href="Mu-Rpc-Annotations.html#v:AnnMethod" title="Mu.Rpc.Annotations">AnnMethod</a> snm mnm d ': rs) snm mnm = d</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetMethodAnnotation" title="Mu.Rpc.Annotations">GetMethodAnnotation</a> (r ': rs) snm mnm = <a href="Mu-Rpc-Annotations.html#t:GetMethodAnnotation" title="Mu.Rpc.Annotations">GetMethodAnnotation</a> rs snm mnm</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:GetArgAnnotation" class="def">GetArgAnnotation</a> (anns :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain s m a]) (snm :: s) (mnm :: m) (anm :: a) :: domain <span class="keyword">where ...</span> <a href="src/Mu.Rpc.Annotations.html#GetArgAnnotation" class="link">Source</a> <a href="#t:GetArgAnnotation" class="selflink">#</a></p><div class="doc"><p>Find the annotation over the given argument in te given method in the given service.
   If the annotation cannot be found, raise a <code><a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a></code>.</p></div><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetArgAnnotation" title="Mu.Rpc.Annotations">GetArgAnnotation</a> '[] snm mnm anm = <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a> ((((('<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;cannot find annotation for &quot; <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> snm) <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;/&quot;) <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> mnm) <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;/&quot;) <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> anm)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetArgAnnotation" title="Mu.Rpc.Annotations">GetArgAnnotation</a> ('<a href="Mu-Rpc-Annotations.html#v:AnnArg" title="Mu.Rpc.Annotations">AnnArg</a> snm mnm anm d ': rs) snm mnm anm = d</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetArgAnnotation" title="Mu.Rpc.Annotations">GetArgAnnotation</a> (r ': rs) snm mnm anm = <a href="Mu-Rpc-Annotations.html#t:GetArgAnnotation" title="Mu.Rpc.Annotations">GetArgAnnotation</a> rs snm mnm anm</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:GetArgAnnotationMay" class="def">GetArgAnnotationMay</a> (anns :: [<a href="Mu-Rpc-Annotations.html#t:RpcAnnotation" title="Mu.Rpc.Annotations">RpcAnnotation</a> domain s m a]) (snm :: s) (mnm :: m) (anm :: a) :: <a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> domain <span class="keyword">where ...</span> <a href="src/Mu.Rpc.Annotations.html#GetArgAnnotationMay" class="link">Source</a> <a href="#t:GetArgAnnotationMay" class="selflink">#</a></p><div class="doc"><p>Find the annotation over the given argument in te given method in the given service.
   If the annotation cannot be found, raise a <code><a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a></code>.</p></div><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetArgAnnotationMay" title="Mu.Rpc.Annotations">GetArgAnnotationMay</a> '[] snm mnm anm = '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetArgAnnotationMay" title="Mu.Rpc.Annotations">GetArgAnnotationMay</a> ('<a href="Mu-Rpc-Annotations.html#v:AnnArg" title="Mu.Rpc.Annotations">AnnArg</a> snm mnm anm d ': rs) snm mnm anm = '<a href="http://hackage.haskell.org/package/base-4.13.0.0/docs/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> d</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Mu-Rpc-Annotations.html#t:GetArgAnnotationMay" title="Mu.Rpc.Annotations">GetArgAnnotationMay</a> (r ': rs) snm mnm anm = <a href="Mu-Rpc-Annotations.html#t:GetArgAnnotationMay" title="Mu.Rpc.Annotations">GetArgAnnotationMay</a> rs snm mnm anm</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>