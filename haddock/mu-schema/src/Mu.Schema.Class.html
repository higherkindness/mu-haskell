<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# language DataKinds              #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# language DefaultSignatures      #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# language FlexibleContexts       #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# language FlexibleInstances      #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# language FunctionalDependencies #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# language GADTs                  #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# language PolyKinds              #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# language QuantifiedConstraints  #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# language RankNTypes             #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# language ScopedTypeVariables    #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# language TypeApplications       #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# language TypeFamilies           #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# language TypeOperators          #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# language UndecidableInstances   #-}</span><span>
</span><span id="line-15"></span><span class="hs-comment">{-|
Description : Conversion from types to schemas

This module defines a couple of type classes
'ToSchema' and 'FromSchema' to turn Haskell
types back and forth @mu-haskell@ 'Term's.

In most cases, the instances can be automatically
derived. If you enable the extensions
@DeriveGeneric@ and @DeriveAnyClass@, you can do:

&gt; data MyHaskellType = ...
&gt;   deriving ( ToSchema   MySchema &quot;MySchemaType&quot; MyHaskellType
&gt;            , FromSchema MySchema &quot;MySchemaType&quot; MyHaskellType)

If the default mapping which required identical
names for fields in the Haskell and schema types
does not suit you, use 'CustomFieldMapping'.
-}</span><span>
</span><span id="line-34"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Mu.Schema.Class</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier">WithSchema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#unWithSchema"><span class="hs-identifier">unWithSchema</span></a></span><span>
</span><span id="line-36"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier">FromSchema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchema%27"><span class="hs-identifier">fromSchema'</span></a></span><span>
</span><span id="line-37"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier">ToSchema</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#toSchema%27"><span class="hs-identifier">toSchema'</span></a></span><span>
</span><span id="line-38"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier">CustomFieldMapping</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mapping"><span class="hs-identifier">Mapping</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier">Mappings</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier">MappingRight</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier">MappingLeft</span></a></span><span>
</span><span id="line-40"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier">Underlying</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier">UnderlyingConversion</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Internal use only</span></span><span>
</span><span id="line-42"></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier">GToSchemaRecord</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString</span></span><span>          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span>     </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BL</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>                 </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromJust</span></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.SOP</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.UUID</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">U</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Mu.Schema.Definition.html"><span class="hs-identifier">Mu.Schema.Definition</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Mu.Schema.Interpretation.html"><span class="hs-identifier">Mu.Schema.Interpretation</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-comment">-- | Tags a value with its schema.</span><span>
</span><span id="line-60"></span><span class="hs-comment">--   For usage with @deriving via@.</span><span>
</span><span id="line-61"></span><span class="hs-keyword">newtype</span><span> </span><span id="WithSchema"><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-var">WithSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231418"><span class="annot"><a href="#local-6989586621679231418"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679231417"><span class="annot"><a href="#local-6989586621679231417"><span class="hs-identifier hs-type hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679231416"><span class="annot"><a href="#local-6989586621679231416"><span class="hs-identifier hs-type hs-type">fn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231415"><span class="annot"><a href="#local-6989586621679231415"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679231417"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231414"><span class="annot"><a href="#local-6989586621679231414"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-62"></span><span>  </span><span id="WithSchema"><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-var">WithSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679231412"><span class="annot"><a href="#local-6989586621679231412"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679231411"><span class="annot"><a href="#local-6989586621679231411"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231410"><span class="annot"><a href="#local-6989586621679231410"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231412"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231411"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231409"><span class="annot"><a href="#local-6989586621679231409"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679231412"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231408"><span class="annot"><a href="#local-6989586621679231408"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-63"></span><span>                </span><span class="annot"><a href="#local-6989586621679231408"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-type">WithSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231410"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231409"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231408"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">-- | Accessor for 'WithSchema'.</span><span>
</span><span id="line-66"></span><span class="hs-comment">--   Intended for usage with @TypeApplications@.</span><span>
</span><span id="line-67"></span><span class="annot"><a href="Mu.Schema.Class.html#unWithSchema"><span class="hs-identifier hs-type">unWithSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679231407"><span class="annot"><a href="#local-6989586621679231407"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span id="local-6989586621679231406"><span class="annot"><a href="#local-6989586621679231406"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231405"><span class="annot"><a href="#local-6989586621679231405"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231407"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231406"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231404"><span class="annot"><a href="#local-6989586621679231404"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679231407"><span class="hs-identifier hs-type">tn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231403"><span class="annot"><a href="#local-6989586621679231403"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-68"></span><span>                </span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-type">WithSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231405"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231404"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231403"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231403"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-69"></span><span id="unWithSchema"><span class="annot"><span class="annottext">unWithSchema :: WithSchema sch sty a -&gt; a
</span><a href="Mu.Schema.Class.html#unWithSchema"><span class="hs-identifier hs-var hs-var">unWithSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#WithSchema"><span class="hs-identifier hs-type">WithSchema</span></a></span><span> </span><span id="local-6989586621679231402"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679231402"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679231402"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-comment">-- |&#160;Defines the conversion of a type @t@ into a 'Term'</span><span>
</span><span id="line-72"></span><span class="hs-comment">--   which follows the schema @sch@.</span><span>
</span><span id="line-73"></span><span class="hs-comment">--   You can give an optional mapping between the</span><span>
</span><span id="line-74"></span><span class="hs-comment">--   field names of @t@ and that of @sty@</span><span>
</span><span id="line-75"></span><span class="hs-comment">--   by means of 'CustomFieldMapping'.</span><span>
</span><span id="line-76"></span><span class="hs-keyword">class</span><span> </span><span id="ToSchema"><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-var">ToSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232274"><span class="annot"><a href="#local-6989586621679232274"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679232276"><span class="annot"><a href="#local-6989586621679232276"><span class="hs-identifier hs-type hs-type">typeName</span></a></span></span><span> </span><span id="local-6989586621679232275"><span class="annot"><a href="#local-6989586621679232275"><span class="hs-identifier hs-type hs-type">fieldName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232273"><span class="annot"><a href="#local-6989586621679232273"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679232276"><span class="hs-identifier hs-type">typeName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232277"><span class="annot"><a href="#local-6989586621679232277"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679232274"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232277"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232273"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-comment">-- | Conversion from Haskell type to schema term.</span><span>
</span><span id="line-79"></span><span>  </span><span id="toSchema"><span class="annot"><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-type">toSchema</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679232277"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232274"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679232274"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232273"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-keyword">default</span><span>
</span><span id="line-82"></span><span>    </span><span id="toSchema"><span class="annot"><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-type">toSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679232277"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232274"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679232274"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232273"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679232277"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232277"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232274"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679232274"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232273"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>  </span><span id="local-6989586621679231400"><span class="annot"><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-var hs-var">toSchema</span></a></span><span> </span><span id="local-6989586621679231399"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621679231399"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy '[] -&gt; Rep t Any -&gt; Term sch (sch :/: sty)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy '[]
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Rep t Any
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679231399"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-comment">-- |&#160;Defines the conversion from a 'Term'</span><span>
</span><span id="line-87"></span><span class="hs-comment">--   which follows the schema @sch@ into a type @t@.</span><span>
</span><span id="line-88"></span><span class="hs-comment">--   You can give an optional mapping between the</span><span>
</span><span id="line-89"></span><span class="hs-comment">--   field names of @t@ and that of @sty@</span><span>
</span><span id="line-90"></span><span class="hs-comment">--   by means of 'CustomFieldMapping'.</span><span>
</span><span id="line-91"></span><span class="hs-keyword">class</span><span> </span><span id="FromSchema"><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-var">FromSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232251"><span class="annot"><a href="#local-6989586621679232251"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679232253"><span class="annot"><a href="#local-6989586621679232253"><span class="hs-identifier hs-type hs-type">typeName</span></a></span></span><span> </span><span id="local-6989586621679232252"><span class="annot"><a href="#local-6989586621679232252"><span class="hs-identifier hs-type hs-type">fieldName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232250"><span class="annot"><a href="#local-6989586621679232250"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679232253"><span class="hs-identifier hs-type">typeName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232249"><span class="annot"><a href="#local-6989586621679232249"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679232251"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232249"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232250"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-comment">-- | Conversion from schema term to Haskell type.</span><span>
</span><span id="line-94"></span><span>  </span><span id="fromSchema"><span class="annot"><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-type">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232251"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679232251"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232250"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232249"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-keyword">default</span><span>
</span><span id="line-97"></span><span>    </span><span id="fromSchema"><span class="annot"><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-type">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679232249"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232251"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679232251"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232250"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679232249"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232251"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679232251"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232250"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232249"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span id="local-6989586621679231394"><span class="annot"><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-var hs-var">fromSchema</span></a></span><span> </span><span id="local-6989586621679231393"><span class="annot"><span class="annottext">x :: Term sch (sch :/: sty)
</span><a href="#local-6989586621679231393"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rep t Any -&gt; t
forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy '[] -&gt; Term sch (sch :/: sty) -&gt; Rep t Any
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy '[]
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty)
</span><a href="#local-6989586621679231393"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span id="local-6989586621679231388"><span id="local-6989586621679231389"><span id="local-6989586621679231390"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679231390"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231389"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231389"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231388"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231390"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231389"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231390"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231389"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231388"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-103"></span><span>  </span><span id="local-6989586621679231385"><span class="annot"><span class="annottext">toSchema :: Term sch ('DRecord sty fields) -&gt; Term sch (sch :/: sty)
</span><a href="#local-6989586621679231385"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch ('DRecord sty fields) -&gt; Term sch (sch :/: sty)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-104"></span><span id="local-6989586621679231381"><span id="local-6989586621679231382"><span id="local-6989586621679231383"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679231383"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231382"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231382"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231381"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231383"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231382"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231383"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231382"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231381"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-106"></span><span>  </span><span id="local-6989586621679231379"><span class="annot"><span class="annottext">toSchema :: Term sch ('DEnum sty choices) -&gt; Term sch (sch :/: sty)
</span><a href="#local-6989586621679231379"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch ('DEnum sty choices) -&gt; Term sch (sch :/: sty)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-107"></span><span id="local-6989586621679231376"><span id="local-6989586621679231377"><span id="local-6989586621679231378"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679231378"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231377"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231377"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231376"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231378"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231377"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231378"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231377"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231376"><span class="hs-identifier hs-type">fields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-109"></span><span>  </span><span id="local-6989586621679231373"><span class="annot"><span class="annottext">fromSchema :: Term sch (sch :/: sty) -&gt; Term sch ('DRecord sty fields)
</span><a href="#local-6989586621679231373"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty) -&gt; Term sch ('DRecord sty fields)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-110"></span><span id="local-6989586621679231370"><span id="local-6989586621679231371"><span id="local-6989586621679231372"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679231372"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231371"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231371"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231370"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231372"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231371"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231372"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231371"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231370"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-112"></span><span>  </span><span id="local-6989586621679231368"><span class="annot"><span class="annottext">fromSchema :: Term sch (sch :/: sty) -&gt; Term sch ('DEnum sty choices)
</span><a href="#local-6989586621679231368"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty) -&gt; Term sch ('DEnum sty choices)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span></span></span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">-- | Conversion from Haskell type to schema term.</span><span>
</span><span id="line-115"></span><span class="hs-comment">--   This version is intended for usage with @TypeApplications@:</span><span>
</span><span id="line-116"></span><span class="hs-comment">--   &gt; toSchema' @MySchema myValue</span><span>
</span><span id="line-117"></span><span class="annot"><a href="Mu.Schema.Class.html#toSchema%27"><span class="hs-identifier hs-type">toSchema'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679231367"><span class="annot"><a href="#local-6989586621679231367"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span id="local-6989586621679231366"><span class="annot"><a href="#local-6989586621679231366"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231365"><span class="annot"><a href="#local-6989586621679231365"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231366"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231367"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231364"><span class="annot"><a href="#local-6989586621679231364"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679231363"><span class="annot"><a href="#local-6989586621679231363"><span class="hs-identifier hs-type">sty</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-118"></span><span>             </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231365"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231363"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231364"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231364"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231365"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679231365"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231363"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span id="toSchema%27"><span class="annot"><span class="annottext">toSchema' :: t -&gt; Term sch (sch :/: sty)
</span><a href="Mu.Schema.Class.html#toSchema%27"><span class="hs-identifier hs-var hs-var">toSchema'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; Term sch (sch :/: sty)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
ToSchema sch sty t =&gt;
t -&gt; Term sch (sch :/: sty)
</span><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-var">toSchema</span></a></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- | Conversion from schema term to Haskell type.</span><span>
</span><span id="line-121"></span><span class="hs-comment">--   This version is intended for usage with @TypeApplications@:</span><span>
</span><span id="line-122"></span><span class="hs-comment">--   &gt; fromSchema' @MySchema mySchemaTerm</span><span>
</span><span id="line-123"></span><span class="annot"><a href="Mu.Schema.Class.html#fromSchema%27"><span class="hs-identifier hs-type">fromSchema'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679231362"><span class="annot"><a href="#local-6989586621679231362"><span class="hs-identifier hs-type">fn</span></a></span></span><span> </span><span id="local-6989586621679231361"><span class="annot"><a href="#local-6989586621679231361"><span class="hs-identifier hs-type">tn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231360"><span class="annot"><a href="#local-6989586621679231360"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231361"><span class="hs-identifier hs-type">tn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231362"><span class="hs-identifier hs-type">fn</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231359"><span class="annot"><a href="#local-6989586621679231359"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679231358"><span class="annot"><a href="#local-6989586621679231358"><span class="hs-identifier hs-type">sty</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-124"></span><span>               </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231360"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231358"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231359"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231360"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679231360"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231358"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231359"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-125"></span><span id="fromSchema%27"><span class="annot"><span class="annottext">fromSchema' :: Term sch (sch :/: sty) -&gt; t
</span><a href="Mu.Schema.Class.html#fromSchema%27"><span class="hs-identifier hs-var hs-var">fromSchema'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty) -&gt; t
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
FromSchema sch sty t =&gt;
Term sch (sch :/: sty) -&gt; t
</span><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-var">fromSchema</span></a></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-comment">-- | By default, the names of the fields in the Haskell type</span><span>
</span><span id="line-128"></span><span class="hs-comment">--   and those of the schema types must coincide. By using</span><span>
</span><span id="line-129"></span><span class="hs-comment">--   this wrapper you can override this default setting.</span><span>
</span><span id="line-130"></span><span class="hs-comment">--</span><span>
</span><span id="line-131"></span><span class="hs-comment">--   This type should be used with @DerivingVia@, as follows:</span><span>
</span><span id="line-132"></span><span class="hs-comment">--</span><span>
</span><span id="line-133"></span><span class="hs-comment">--   &gt; type MyCustomFieldMapping = '[ &quot;A&quot; ':-&gt; &quot;a&quot;, ...]</span><span>
</span><span id="line-134"></span><span class="hs-comment">--   &gt; data MyHaskellType = ...</span><span>
</span><span id="line-135"></span><span class="hs-comment">--   &gt;   deriving ( ToSchema   f MySchema &quot;MySchemaType&quot; MyHaskellType</span><span>
</span><span id="line-136"></span><span class="hs-comment">--   &gt;            , FromSchema f MySchema &quot;MySchemaType&quot; MyHaskellType)</span><span>
</span><span id="line-137"></span><span class="hs-comment">--   &gt;     via (CustomFieldMapping &quot;MySchemaType&quot; MyCustomFieldMapping MyHaskellType)</span><span>
</span><span id="line-138"></span><span class="hs-keyword">newtype</span><span> </span><span id="CustomFieldMapping"><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-var">CustomFieldMapping</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232186"><span class="annot"><a href="#local-6989586621679232186"><span class="hs-identifier hs-type">sty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679232189"><span class="annot"><a href="#local-6989586621679232189"><span class="hs-identifier hs-type hs-type">typeName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232185"><span class="annot"><a href="#local-6989586621679232185"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#Mapping"><span class="hs-identifier hs-type">Mapping</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span id="local-6989586621679232188"><span class="annot"><a href="#local-6989586621679232188"><span class="hs-identifier hs-type hs-type">fieldName</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>  </span><span id="local-6989586621679232187"><span class="annot"><a href="#local-6989586621679232187"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="CustomFieldMapping"><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-var">CustomFieldMapping</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679232187"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span id="local-6989586621679231353"><span id="local-6989586621679231354"><span id="local-6989586621679231355"><span id="local-6989586621679231356"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679231356"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231355"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231354"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679231355"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231353"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679231356"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231355"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231353"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-type">CustomFieldMapping</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231353"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231354"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231356"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>  </span><span id="local-6989586621679231351"><span class="annot"><span class="annottext">toSchema :: CustomFieldMapping sty fmap t -&gt; Term sch (sch :/: sty)
</span><a href="#local-6989586621679231351"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-type">CustomFieldMapping</span></a></span><span> </span><span id="local-6989586621679231350"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621679231350"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; Rep t Any -&gt; Term sch (sch :/: sty)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679231354"><span class="hs-identifier hs-type">fmap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Rep t Any
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679231350"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span id="local-6989586621679231346"><span id="local-6989586621679231347"><span id="local-6989586621679231348"><span id="local-6989586621679231349"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679231349"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231348"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231347"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679231348"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#%3A%2F%3A"><span class="hs-operator hs-type">:/:</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231346"><span class="hs-identifier hs-type">sty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679231349"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231348"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231346"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-type">CustomFieldMapping</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231346"><span class="hs-identifier hs-type">sty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231347"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231349"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>  </span><span id="local-6989586621679231344"><span class="annot"><span class="annottext">fromSchema :: Term sch (sch :/: sty) -&gt; CustomFieldMapping sty fmap t
</span><a href="#local-6989586621679231344"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchema</span></a></span></span><span> </span><span id="local-6989586621679231343"><span class="annot"><span class="annottext">x :: Term sch (sch :/: sty)
</span><a href="#local-6989586621679231343"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; CustomFieldMapping sty fmap t
forall typeName fieldName (sty :: typeName)
       (fmap :: [Mapping Symbol fieldName]) a.
a -&gt; CustomFieldMapping sty fmap a
</span><a href="Mu.Schema.Class.html#CustomFieldMapping"><span class="hs-identifier hs-var">CustomFieldMapping</span></a></span><span> </span><span class="annot"><span class="annottext">(t -&gt; CustomFieldMapping sty fmap t)
-&gt; t -&gt; CustomFieldMapping sty fmap t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rep t Any -&gt; t
forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch (sch :/: sty) -&gt; Rep t Any
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679231347"><span class="hs-identifier hs-type">fmap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: sty)
</span><a href="#local-6989586621679231343"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- | This 'newtype' is used to wrap types for which</span><span>
</span><span id="line-150"></span><span class="hs-comment">--   we want a &quot;logical&quot; representation as a Haskell</span><span>
</span><span id="line-151"></span><span class="hs-comment">--   type, but the underlying representation is</span><span>
</span><span id="line-152"></span><span class="hs-comment">--   lower level, like 'UUID's as 'ByteString's.</span><span>
</span><span id="line-153"></span><span class="hs-keyword">newtype</span><span> </span><span id="Underlying"><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-var">Underlying</span></a></span></span><span> </span><span id="local-6989586621679232046"><span class="annot"><a href="#local-6989586621679232046"><span class="hs-identifier hs-type">basic</span></a></span></span><span> </span><span id="local-6989586621679232045"><span class="annot"><a href="#local-6989586621679232045"><span class="hs-identifier hs-type">logical</span></a></span></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Underlying"><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-var">Underlying</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unUnderlying"><span class="annot"><span class="annottext">Underlying basic logical -&gt; logical
</span><a href="Mu.Schema.Class.html#unUnderlying"><span class="hs-identifier hs-var hs-var">unUnderlying</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679232045"><span class="hs-identifier hs-type">logical</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231335"><span id="local-6989586621679231337"><span id="local-6989586621679231339"><span class="annot"><span class="annottext">Int -&gt; Underlying basic logical -&gt; ShowS
[Underlying basic logical] -&gt; ShowS
Underlying basic logical -&gt; String
(Int -&gt; Underlying basic logical -&gt; ShowS)
-&gt; (Underlying basic logical -&gt; String)
-&gt; ([Underlying basic logical] -&gt; ShowS)
-&gt; Show (Underlying basic logical)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall k (basic :: k) logical.
Show logical =&gt;
Int -&gt; Underlying basic logical -&gt; ShowS
forall k (basic :: k) logical.
Show logical =&gt;
[Underlying basic logical] -&gt; ShowS
forall k (basic :: k) logical.
Show logical =&gt;
Underlying basic logical -&gt; String
showList :: [Underlying basic logical] -&gt; ShowS
$cshowList :: forall k (basic :: k) logical.
Show logical =&gt;
[Underlying basic logical] -&gt; ShowS
show :: Underlying basic logical -&gt; String
$cshow :: forall k (basic :: k) logical.
Show logical =&gt;
Underlying basic logical -&gt; String
showsPrec :: Int -&gt; Underlying basic logical -&gt; ShowS
$cshowsPrec :: forall k (basic :: k) logical.
Show logical =&gt;
Int -&gt; Underlying basic logical -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679231330"><span id="local-6989586621679231332"><span class="annot"><span class="annottext">Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
(Underlying basic logical -&gt; Underlying basic logical -&gt; Bool)
-&gt; (Underlying basic logical -&gt; Underlying basic logical -&gt; Bool)
-&gt; Eq (Underlying basic logical)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall k (basic :: k) logical.
Eq logical =&gt;
Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
/= :: Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
$c/= :: forall k (basic :: k) logical.
Eq logical =&gt;
Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
== :: Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
$c== :: forall k (basic :: k) logical.
Eq logical =&gt;
Underlying basic logical -&gt; Underlying basic logical -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-comment">-- | This class defines the actual conversion between</span><span>
</span><span id="line-158"></span><span class="hs-comment">--   a &quot;logical&quot; type and its low-level representation.</span><span>
</span><span id="line-159"></span><span class="hs-keyword">class</span><span> </span><span id="UnderlyingConversion"><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-var">UnderlyingConversion</span></a></span></span><span> </span><span id="local-6989586621679232164"><span class="annot"><a href="#local-6989586621679232164"><span class="hs-identifier hs-type">basic</span></a></span></span><span> </span><span id="local-6989586621679232165"><span class="annot"><a href="#local-6989586621679232165"><span class="hs-identifier hs-type">logical</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-160"></span><span>  </span><span id="toUnderlying"><span class="annot"><a href="Mu.Schema.Class.html#toUnderlying"><span class="hs-identifier hs-type">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679232165"><span class="hs-identifier hs-type">logical</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232164"><span class="hs-identifier hs-type">basic</span></a></span><span>
</span><span id="line-161"></span><span>  </span><span id="fromUnderlying"><span class="annot"><a href="Mu.Schema.Class.html#fromUnderlying"><span class="hs-identifier hs-type">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679232164"><span class="hs-identifier hs-type">basic</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232165"><span class="hs-identifier hs-type">logical</span></a></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-164"></span><span>  </span><span id="local-6989586621679231323"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; String
</span><a href="#local-6989586621679231323"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; String
</span><span class="hs-identifier hs-var">U.toString</span></span><span>
</span><span id="line-165"></span><span>  </span><span id="local-6989586621679231321"><span class="annot"><span class="annottext">fromUnderlying :: String -&gt; UUID
</span><a href="#local-6989586621679231321"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID) -&gt; (String -&gt; Maybe UUID) -&gt; String -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromString</span></span><span>
</span><span id="line-166"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679231316"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; Text
</span><a href="#local-6989586621679231316"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; Text
</span><span class="hs-identifier hs-var">U.toText</span></span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621679231314"><span class="annot"><span class="annottext">fromUnderlying :: Text -&gt; UUID
</span><a href="#local-6989586621679231314"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID) -&gt; (Text -&gt; Maybe UUID) -&gt; Text -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromText</span></span><span>
</span><span id="line-169"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BL.ByteString</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-170"></span><span>  </span><span id="local-6989586621679231310"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; ByteString
</span><a href="#local-6989586621679231310"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; ByteString
</span><span class="hs-identifier hs-var">U.toByteString</span></span><span>
</span><span id="line-171"></span><span>  </span><span id="local-6989586621679231308"><span class="annot"><span class="annottext">fromUnderlying :: ByteString -&gt; UUID
</span><a href="#local-6989586621679231308"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID)
-&gt; (ByteString -&gt; Maybe UUID) -&gt; ByteString -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromByteString</span></span><span>
</span><span id="line-172"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BS.ByteString</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U.UUID</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-173"></span><span>  </span><span id="local-6989586621679231304"><span class="annot"><span class="annottext">toUnderlying :: UUID -&gt; ByteString
</span><a href="#local-6989586621679231304"><span class="hs-identifier hs-var hs-var hs-var hs-var">toUnderlying</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BL.toStrict</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (UUID -&gt; ByteString) -&gt; UUID -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UUID -&gt; ByteString
</span><span class="hs-identifier hs-var">U.toByteString</span></span><span>
</span><span id="line-174"></span><span>  </span><span id="local-6989586621679231302"><span class="annot"><span class="annottext">fromUnderlying :: ByteString -&gt; UUID
</span><a href="#local-6989586621679231302"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromUnderlying</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe UUID -&gt; UUID
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe UUID -&gt; UUID)
-&gt; (ByteString -&gt; Maybe UUID) -&gt; ByteString -&gt; UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe UUID
</span><span class="hs-identifier hs-var">U.fromByteString</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Maybe UUID)
-&gt; (ByteString -&gt; ByteString) -&gt; ByteString -&gt; Maybe UUID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">BL.fromStrict</span></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-comment">-- ======================</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- CRAZY GENERICS SECTION</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- ======================</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">-- Auxiliary type families to find elements in lists</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- They return an indication of where the thing was found</span><span>
</span><span id="line-182"></span><span class="hs-comment">--</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- Note: it turns out that GHC.Generics generates some weird</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- instances for records in the form (x :*: y) :*: z</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- and we cover them with the special HereLeft and HereRight</span><span>
</span><span id="line-186"></span><span class="hs-keyword">data</span><span> </span><span id="Where"><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-var">Where</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Here"><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-var">Here</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="HereLeft"><span class="annot"><a href="Mu.Schema.Class.html#HereLeft"><span class="hs-identifier hs-var">HereLeft</span></a></span></span><span> </span><span class="hs-glyph">|</span><span>&#160;</span><span id="HereRight"><span class="annot"><a href="Mu.Schema.Class.html#HereRight"><span class="hs-identifier hs-var">HereRight</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="HereRightThenLeft"><span class="annot"><a href="Mu.Schema.Class.html#HereRightThenLeft"><span class="hs-identifier hs-var">HereRightThenLeft</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="HereTwoRights"><span class="annot"><a href="Mu.Schema.Class.html#HereTwoRights"><span class="hs-identifier hs-var">HereTwoRights</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="There"><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-var">There</span></a></span></span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231299"><span class="annot"><a href="#local-6989586621679231299"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span id="local-6989586621679231298"><span class="annot"><a href="#local-6989586621679231298"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231297"><span class="annot"><a href="#local-6989586621679231297"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679231298"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-189"></span><span>  </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>       </span><span id="local-6989586621679231296"><span class="annot"><a href="#local-6989586621679231296"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679231296"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>  </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231295"><span class="annot"><a href="#local-6989586621679231295"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679231294"><span class="annot"><a href="#local-6989586621679231294"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231295"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-191"></span><span>  </span><span id="Find"><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-var">Find</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231293"><span class="annot"><a href="#local-6989586621679231293"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679231292"><span class="annot"><a href="#local-6989586621679231292"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231291"><span class="annot"><a href="#local-6989586621679231291"><span class="hs-identifier hs-type hs-type">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#Find"><span class="hs-identifier hs-type">Find</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231292"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231291"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindCon"><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-var">FindCon</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231290"><span class="annot"><a href="#local-6989586621679231290"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231289"><span class="annot"><a href="#local-6989586621679231289"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>  </span><span id="FindCon"><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-var">FindCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span id="local-6989586621679231288"><span class="annot"><a href="#local-6989586621679231288"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679231287"><span class="annot"><a href="#local-6989586621679231287"><span class="hs-identifier hs-type hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679231286"><span class="annot"><a href="#local-6989586621679231286"><span class="hs-identifier hs-type hs-type">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231285"><span class="annot"><a href="#local-6989586621679231285"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231288"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-195"></span><span>  </span><span id="FindCon"><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-var">FindCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span id="local-6989586621679231284"><span class="annot"><a href="#local-6989586621679231284"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span id="local-6989586621679231283"><span class="annot"><a href="#local-6989586621679231283"><span class="hs-identifier hs-type hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679231282"><span class="annot"><a href="#local-6989586621679231282"><span class="hs-identifier hs-type hs-type">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231281"><span class="annot"><a href="#local-6989586621679231281"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span id="local-6989586621679231280"><span class="annot"><a href="#local-6989586621679231280"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231284"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-196"></span><span>  </span><span id="FindCon"><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-var">FindCon</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231279"><span class="annot"><a href="#local-6989586621679231279"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span id="local-6989586621679231278"><span class="annot"><a href="#local-6989586621679231278"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231277"><span class="annot"><a href="#local-6989586621679231277"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-type">FindCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231278"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231277"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>  </span><span id="FindCon"><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-var">FindCon</span></a></span></span><span> </span><span id="local-6989586621679231276"><span class="annot"><a href="#local-6989586621679231276"><span class="hs-identifier hs-type hs-type">nothing</span></a></span></span><span>          </span><span id="local-6989586621679231275"><span class="annot"><a href="#local-6989586621679231275"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find constructor &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679231275"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231274"><span class="annot"><a href="#local-6989586621679231274"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231273"><span class="annot"><a href="#local-6989586621679231273"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-200"></span><span>  </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679231272"><span class="annot"><a href="#local-6989586621679231272"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231271"><span class="annot"><a href="#local-6989586621679231271"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span> </span><span id="local-6989586621679231270"><span class="annot"><a href="#local-6989586621679231270"><span class="hs-identifier hs-type hs-type">ss</span></a></span></span><span> </span><span id="local-6989586621679231269"><span class="annot"><a href="#local-6989586621679231269"><span class="hs-identifier hs-type hs-type">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231268"><span class="annot"><a href="#local-6989586621679231268"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231272"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-201"></span><span>  </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679231267"><span class="annot"><a href="#local-6989586621679231267"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231266"><span class="annot"><a href="#local-6989586621679231266"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span> </span><span id="local-6989586621679231265"><span class="annot"><a href="#local-6989586621679231265"><span class="hs-identifier hs-type hs-type">ss</span></a></span></span><span> </span><span id="local-6989586621679231264"><span class="annot"><a href="#local-6989586621679231264"><span class="hs-identifier hs-type hs-type">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231263"><span class="annot"><a href="#local-6989586621679231263"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679231262"><span class="annot"><a href="#local-6989586621679231262"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231267"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-202"></span><span>  </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679231261"><span class="annot"><a href="#local-6989586621679231261"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231260"><span class="annot"><a href="#local-6989586621679231260"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span> </span><span id="local-6989586621679231259"><span class="annot"><a href="#local-6989586621679231259"><span class="hs-identifier hs-type hs-type">ss</span></a></span></span><span> </span><span id="local-6989586621679231258"><span class="annot"><a href="#local-6989586621679231258"><span class="hs-identifier hs-type hs-type">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231257"><span class="annot"><a href="#local-6989586621679231257"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679231256"><span class="annot"><a href="#local-6989586621679231256"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679231255"><span class="annot"><a href="#local-6989586621679231255"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231261"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#HereLeft"><span class="hs-identifier hs-type">HereLeft</span></a></span><span>
</span><span id="line-203"></span><span>  </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679231254"><span class="annot"><a href="#local-6989586621679231254"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679231253"><span class="annot"><a href="#local-6989586621679231253"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231252"><span class="annot"><a href="#local-6989586621679231252"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span> </span><span id="local-6989586621679231251"><span class="annot"><a href="#local-6989586621679231251"><span class="hs-identifier hs-type hs-type">ss</span></a></span></span><span> </span><span id="local-6989586621679231250"><span class="annot"><a href="#local-6989586621679231250"><span class="hs-identifier hs-type hs-type">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231249"><span class="annot"><a href="#local-6989586621679231249"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679231248"><span class="annot"><a href="#local-6989586621679231248"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231253"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#HereRight"><span class="hs-identifier hs-type">HereRight</span></a></span><span>
</span><span id="line-204"></span><span>  </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679231247"><span class="annot"><a href="#local-6989586621679231247"><span class="hs-identifier hs-type hs-type">other1</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679231246"><span class="annot"><a href="#local-6989586621679231246"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231245"><span class="annot"><a href="#local-6989586621679231245"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span> </span><span id="local-6989586621679231244"><span class="annot"><a href="#local-6989586621679231244"><span class="hs-identifier hs-type hs-type">ss</span></a></span></span><span> </span><span id="local-6989586621679231243"><span class="annot"><a href="#local-6989586621679231243"><span class="hs-identifier hs-type hs-type">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231242"><span class="annot"><a href="#local-6989586621679231242"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679231241"><span class="annot"><a href="#local-6989586621679231241"><span class="hs-identifier hs-type hs-type">other2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679231240"><span class="annot"><a href="#local-6989586621679231240"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231246"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#HereRightThenLeft"><span class="hs-identifier hs-type">HereRightThenLeft</span></a></span><span>
</span><span id="line-205"></span><span>  </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679231239"><span class="annot"><a href="#local-6989586621679231239"><span class="hs-identifier hs-type hs-type">other1</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231238"><span class="annot"><a href="#local-6989586621679231238"><span class="hs-identifier hs-type hs-type">other2</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679231237"><span class="annot"><a href="#local-6989586621679231237"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231236"><span class="annot"><a href="#local-6989586621679231236"><span class="hs-identifier hs-type hs-type">u</span></a></span></span><span> </span><span id="local-6989586621679231235"><span class="annot"><a href="#local-6989586621679231235"><span class="hs-identifier hs-type hs-type">ss</span></a></span></span><span> </span><span id="local-6989586621679231234"><span class="annot"><a href="#local-6989586621679231234"><span class="hs-identifier hs-type hs-type">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231233"><span class="annot"><a href="#local-6989586621679231233"><span class="hs-identifier hs-type hs-type">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679231232"><span class="annot"><a href="#local-6989586621679231232"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231237"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#HereTwoRights"><span class="hs-identifier hs-type">HereTwoRights</span></a></span><span>
</span><span id="line-206"></span><span>  </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231231"><span class="annot"><a href="#local-6989586621679231231"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679231230"><span class="annot"><a href="#local-6989586621679231230"><span class="hs-identifier hs-type hs-type">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231229"><span class="annot"><a href="#local-6989586621679231229"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-type">FindSel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231230"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231229"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>  </span><span id="FindSel"><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-var">FindSel</span></a></span></span><span> </span><span id="local-6989586621679231228"><span class="annot"><a href="#local-6989586621679231228"><span class="hs-identifier hs-type hs-type">nothing</span></a></span></span><span>          </span><span id="local-6989586621679231227"><span class="annot"><a href="#local-6989586621679231227"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find selector &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679231227"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231226"><span class="annot"><a href="#local-6989586621679231226"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span id="local-6989586621679231225"><span class="annot"><a href="#local-6989586621679231225"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231224"><span class="annot"><a href="#local-6989586621679231224"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679231225"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-210"></span><span>  </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679231223"><span class="annot"><a href="#local-6989586621679231223"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find enum choice &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679231223"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>  </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span id="local-6989586621679231222"><span class="annot"><a href="#local-6989586621679231222"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679231221"><span class="annot"><a href="#local-6989586621679231221"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231222"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-212"></span><span>  </span><span id="FindEnumChoice"><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-var">FindEnumChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231220"><span class="annot"><a href="#local-6989586621679231220"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span>           </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679231219"><span class="annot"><a href="#local-6989586621679231219"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231218"><span class="annot"><a href="#local-6989586621679231218"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-type">FindEnumChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231219"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231218"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231217"><span class="annot"><a href="#local-6989586621679231217"><span class="hs-identifier hs-type">xs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span id="local-6989586621679231216"><span class="annot"><a href="#local-6989586621679231216"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679231215"><span class="annot"><a href="#local-6989586621679231215"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231214"><span class="annot"><a href="#local-6989586621679231214"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679231215"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-215"></span><span>  </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679231213"><span class="annot"><a href="#local-6989586621679231213"><span class="hs-identifier hs-type hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Could not find field &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679231213"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>  </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span id="local-6989586621679231212"><span class="annot"><a href="#local-6989586621679231212"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span id="local-6989586621679231211"><span class="annot"><a href="#local-6989586621679231211"><span class="hs-identifier hs-type hs-type">t</span></a></span></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679231210"><span class="annot"><a href="#local-6989586621679231210"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231212"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span>
</span><span id="line-217"></span><span>  </span><span id="FindField"><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-var">FindField</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231209"><span class="annot"><a href="#local-6989586621679231209"><span class="hs-identifier hs-type hs-type">other</span></a></span></span><span>            </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span id="local-6989586621679231208"><span class="annot"><a href="#local-6989586621679231208"><span class="hs-identifier hs-type hs-type">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679231207"><span class="annot"><a href="#local-6989586621679231207"><span class="hs-identifier hs-type hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-type">FindField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231208"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231207"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="hs-comment">-- Generic type definitions</span><span>
</span><span id="line-220"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-var">GToSchemaTypeDef</span></a></span></span><span>
</span><span id="line-221"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679232263"><span class="annot"><a href="#local-6989586621679232263"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679232267"><span class="annot"><a href="#local-6989586621679232267"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679232266"><span class="annot"><a href="#local-6989586621679232266"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232262"><span class="annot"><a href="#local-6989586621679232262"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679232266"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679232261"><span class="annot"><a href="#local-6989586621679232261"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232267"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232266"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232260"><span class="annot"><a href="#local-6989586621679232260"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-223"></span><span>  </span><span id="local-6989586621679232258"><span id="toSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-type">toSchemaTypeDef</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679232262"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232260"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232258"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232263"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232261"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-224"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-var">GFromSchemaTypeDef</span></a></span></span><span>
</span><span id="line-225"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679232245"><span class="annot"><a href="#local-6989586621679232245"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679232247"><span class="annot"><a href="#local-6989586621679232247"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679232246"><span class="annot"><a href="#local-6989586621679232246"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232244"><span class="annot"><a href="#local-6989586621679232244"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679232246"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679232243"><span class="annot"><a href="#local-6989586621679232243"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#TypeDef"><span class="hs-identifier hs-type">TypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232247"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232246"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232242"><span class="annot"><a href="#local-6989586621679232242"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-227"></span><span>  </span><span id="local-6989586621679232240"><span id="fromSchemaTypeDef"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-type">fromSchemaTypeDef</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679232244"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232245"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232243"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232242"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232240"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">-- ------------------</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- TYPES OF FIELDS --</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- ------------------</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span id="local-6989586621679231203"><span id="local-6989586621679231204"><span id="local-6989586621679231205"><span id="local-6989586621679231206"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231206"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231205"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231204"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-234"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231206"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231203"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DSimple"><span class="hs-identifier hs-type">DSimple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231205"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231204"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-235"></span><span>  </span><span id="local-6989586621679231200"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; f a -&gt; Term sch ('DSimple t)
</span><a href="#local-6989586621679231200"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679231199"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679231199"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; Term sch ('DSimple t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
FieldValue sch t -&gt; Term sch ('DSimple t)
</span><a href="Mu.Schema.Interpretation.html#TSimple"><span class="hs-identifier hs-var">TSimple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679231199"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-236"></span><span id="local-6989586621679231193"><span id="local-6989586621679231194"><span id="local-6989586621679231195"><span id="local-6989586621679231196"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231196"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231195"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231194"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-237"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231196"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231193"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DSimple"><span class="hs-identifier hs-type">DSimple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231195"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231194"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-238"></span><span>  </span><span id="local-6989586621679231190"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DSimple t) -&gt; f a
</span><a href="#local-6989586621679231190"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#TSimple"><span class="hs-identifier hs-type">TSimple</span></a></span><span> </span><span id="local-6989586621679231189"><span class="annot"><span class="annottext">x :: FieldValue sch t
</span><a href="#local-6989586621679231189"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; f a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679231189"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaFieldTypeWrap"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-var">GToSchemaFieldTypeWrap</span></a></span></span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679232138"><span class="annot"><a href="#local-6989586621679232138"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679232140"><span class="annot"><a href="#local-6989586621679232140"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679232139"><span class="annot"><a href="#local-6989586621679232139"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232137"><span class="annot"><a href="#local-6989586621679232137"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232140"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232136"><span class="annot"><a href="#local-6989586621679232136"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-242"></span><span>  </span><span id="local-6989586621679232135"><span id="toSchemaFieldTypeW"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-type">toSchemaFieldTypeW</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679232136"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232135"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232138"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232137"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-243"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaFieldTypeWrap"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-var">GFromSchemaFieldTypeWrap</span></a></span></span><span>
</span><span id="line-244"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679232123"><span class="annot"><a href="#local-6989586621679232123"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679232125"><span class="annot"><a href="#local-6989586621679232125"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679232124"><span class="annot"><a href="#local-6989586621679232124"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232122"><span class="annot"><a href="#local-6989586621679232122"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232125"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232121"><span class="annot"><a href="#local-6989586621679232121"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-245"></span><span>  </span><span id="local-6989586621679232120"><span id="fromSchemaFieldTypeW"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-type">fromSchemaFieldTypeW</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232123"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232122"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232121"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232120"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span id="local-6989586621679231184"><span id="local-6989586621679231185"><span id="local-6989586621679231186"><span id="local-6989586621679231187"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231187"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231186"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231185"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-248"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231187"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231186"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679231184"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231185"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-249"></span><span>  </span><span id="local-6989586621679231181"><span class="annot"><span class="annottext">toSchemaFieldTypeW :: K1 i f a -&gt; FieldValue sch t
</span><a href="#local-6989586621679231181"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeW</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679231179"><span class="annot"><span class="annottext">x :: f
</span><a href="#local-6989586621679231179"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621679231179"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-250"></span><span id="local-6989586621679231174"><span id="local-6989586621679231175"><span id="local-6989586621679231176"><span id="local-6989586621679231177"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231177"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231176"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231175"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-251"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231177"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231176"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679231174"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231175"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-252"></span><span>  </span><span id="local-6989586621679231171"><span class="annot"><span class="annottext">fromSchemaFieldTypeW :: FieldValue sch t -&gt; K1 i f a
</span><a href="#local-6989586621679231171"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeW</span></a></span></span><span> </span><span id="local-6989586621679231170"><span class="annot"><span class="annottext">x :: FieldValue sch t
</span><a href="#local-6989586621679231170"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f -&gt; K1 i f a
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch t -&gt; f
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679231170"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-253"></span><span id="local-6989586621679231164"><span id="local-6989586621679231165"><span id="local-6989586621679231166"><span id="local-6989586621679231167"><span id="local-6989586621679231168"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231168"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231167"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231166"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-254"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231168"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231167"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679231165"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231164"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231166"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-255"></span><span>  </span><span id="local-6989586621679231162"><span class="annot"><span class="annottext">toSchemaFieldTypeW :: M1 s m f a -&gt; FieldValue sch t
</span><a href="#local-6989586621679231162"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeW</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679231160"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679231160"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679231160"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-256"></span><span id="local-6989586621679231155"><span id="local-6989586621679231156"><span id="local-6989586621679231157"><span id="local-6989586621679231158"><span id="local-6989586621679231159"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231159"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231158"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231157"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-257"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231159"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231158"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679231156"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231155"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231157"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-258"></span><span>  </span><span id="local-6989586621679231153"><span class="annot"><span class="annottext">fromSchemaFieldTypeW :: FieldValue sch t -&gt; M1 s m f a
</span><a href="#local-6989586621679231153"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeW</span></a></span></span><span> </span><span id="local-6989586621679231152"><span class="annot"><span class="annottext">x :: FieldValue sch t
</span><a href="#local-6989586621679231152"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; M1 s m f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch t -&gt; f a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679231152"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-var">GToSchemaFieldType</span></a></span></span><span>
</span><span id="line-261"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679232109"><span class="annot"><a href="#local-6989586621679232109"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679232111"><span class="annot"><a href="#local-6989586621679232111"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679232110"><span class="annot"><a href="#local-6989586621679232110"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232108"><span class="annot"><a href="#local-6989586621679232108"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232111"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232107"><span class="annot"><a href="#local-6989586621679232107"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-262"></span><span>  </span><span id="toSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-type">toSchemaFieldType</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679232107"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232109"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232108"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-263"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-var">GFromSchemaFieldType</span></a></span></span><span>
</span><span id="line-264"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679232092"><span class="annot"><a href="#local-6989586621679232092"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679232094"><span class="annot"><a href="#local-6989586621679232094"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679232093"><span class="annot"><a href="#local-6989586621679232093"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232091"><span class="annot"><a href="#local-6989586621679232091"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232094"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679232090"><span class="annot"><a href="#local-6989586621679232090"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-265"></span><span>  </span><span id="fromSchemaFieldType"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-type">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232092"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679232091"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679232090"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-var">GToSchemaFieldTypeUnion</span></a></span></span><span>
</span><span id="line-268"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679231901"><span class="annot"><a href="#local-6989586621679231901"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679231903"><span class="annot"><a href="#local-6989586621679231903"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679231902"><span class="annot"><a href="#local-6989586621679231902"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231900"><span class="annot"><a href="#local-6989586621679231900"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231903"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231899"><span class="annot"><a href="#local-6989586621679231899"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-269"></span><span>  </span><span id="local-6989586621679231898"><span id="toSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-type">toSchemaFieldTypeUnion</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679231899"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231898"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231901"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231900"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-270"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">GFromSchemaFieldTypeUnion</span></a></span></span><span>
</span><span id="line-271"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679231888"><span class="annot"><a href="#local-6989586621679231888"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679231890"><span class="annot"><a href="#local-6989586621679231890"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679231889"><span class="annot"><a href="#local-6989586621679231889"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231887"><span class="annot"><a href="#local-6989586621679231887"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231890"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231886"><span class="annot"><a href="#local-6989586621679231886"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-272"></span><span>  </span><span id="local-6989586621679231885"><span id="fromSchemaFieldTypeUnion"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231888"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231887"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231886"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231885"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="hs-comment">-- These instances are straightforward,</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- just turn the &quot;real types&quot; into their</span><span>
</span><span id="line-276"></span><span class="hs-comment">-- schema correspondants.</span><span>
</span><span id="line-277"></span><span id="local-6989586621679231149"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231149"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TNull"><span class="hs-identifier hs-type">TNull</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-278"></span><span>  </span><span id="local-6989586621679231146"><span class="annot"><span class="annottext">toSchemaFieldType :: () -&gt; FieldValue sch 'TNull
</span><a href="#local-6989586621679231146"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch 'TNull
forall typeName fieldName (sch :: Schema typeName fieldName).
FieldValue sch 'TNull
</span><a href="Mu.Schema.Interpretation.html#FNull"><span class="hs-identifier hs-var">FNull</span></a></span></span><span>
</span><span id="line-279"></span><span id="local-6989586621679231144"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231144"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TNull"><span class="hs-identifier hs-type">TNull</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-280"></span><span>  </span><span id="local-6989586621679231141"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch 'TNull -&gt; ()
</span><a href="#local-6989586621679231141"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-281"></span><span id="local-6989586621679231138"><span id="local-6989586621679231139"><span id="local-6989586621679231140"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231140"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231139"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231138"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231140"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-type">Underlying</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231140"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231139"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-283"></span><span>  </span><span id="local-6989586621679231136"><span class="annot"><span class="annottext">toSchemaFieldType :: Underlying t l -&gt; FieldValue sch ('TPrimitive t)
</span><a href="#local-6989586621679231136"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; FieldValue sch ('TPrimitive t)
forall typeName fieldName t (sch :: Schema typeName fieldName).
t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-var">FPrimitive</span></a></span><span> </span><span class="annot"><span class="annottext">(t -&gt; FieldValue sch ('TPrimitive t))
-&gt; (Underlying t l -&gt; t)
-&gt; Underlying t l
-&gt; FieldValue sch ('TPrimitive t)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">l -&gt; t
forall basic logical.
UnderlyingConversion basic logical =&gt;
logical -&gt; basic
</span><a href="Mu.Schema.Class.html#toUnderlying"><span class="hs-identifier hs-var">toUnderlying</span></a></span><span> </span><span class="annot"><span class="annottext">(l -&gt; t) -&gt; (Underlying t l -&gt; l) -&gt; Underlying t l -&gt; t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Underlying t l -&gt; l
forall k (basic :: k) logical. Underlying basic logical -&gt; logical
</span><a href="Mu.Schema.Class.html#unUnderlying"><span class="hs-identifier hs-var hs-var">unUnderlying</span></a></span></span></span></span><span>
</span><span id="line-284"></span><span id="local-6989586621679231132"><span id="local-6989586621679231133"><span id="local-6989586621679231134"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#UnderlyingConversion"><span class="hs-identifier hs-type">UnderlyingConversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231134"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231133"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231132"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231134"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-type">Underlying</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231134"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231133"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-286"></span><span>  </span><span id="local-6989586621679231130"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TPrimitive t) -&gt; Underlying t l
</span><a href="#local-6989586621679231130"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span id="local-6989586621679231129"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621679231129"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">l -&gt; Underlying t l
forall k (basic :: k) logical. logical -&gt; Underlying basic logical
</span><a href="Mu.Schema.Class.html#Underlying"><span class="hs-identifier hs-var">Underlying</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; l
forall basic logical.
UnderlyingConversion basic logical =&gt;
basic -&gt; logical
</span><a href="Mu.Schema.Class.html#fromUnderlying"><span class="hs-identifier hs-var">fromUnderlying</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679231129"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-287"></span><span id="local-6989586621679231127"><span id="local-6989586621679231128"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231128"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231127"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231127"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-288"></span><span>  </span><span id="local-6989586621679231125"><span class="annot"><span class="annottext">toSchemaFieldType :: t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="#local-6989586621679231125"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; FieldValue sch ('TPrimitive t)
forall typeName fieldName t (sch :: Schema typeName fieldName).
t -&gt; FieldValue sch ('TPrimitive t)
</span><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-var">FPrimitive</span></a></span></span></span><span>
</span><span id="line-289"></span><span id="local-6989586621679231123"><span id="local-6989586621679231124"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231124"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TPrimitive"><span class="hs-identifier hs-type">TPrimitive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231123"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231123"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-290"></span><span>  </span><span id="local-6989586621679231121"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TPrimitive t) -&gt; t
</span><a href="#local-6989586621679231121"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FPrimitive"><span class="hs-identifier hs-type">FPrimitive</span></a></span><span> </span><span id="local-6989586621679231120"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621679231120"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
t
</span><a href="#local-6989586621679231120"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-291"></span><span class="hs-comment">-- These instances &quot;tie the loop&quot; with the whole schema,</span><span>
</span><span id="line-292"></span><span class="hs-comment">-- and they are the reason why we need to thread the @sch@</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- type throghout the whole implementation.</span><span>
</span><span id="line-294"></span><span id="local-6989586621679231117"><span id="local-6989586621679231118"><span id="local-6989586621679231119"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#ToSchema"><span class="hs-identifier hs-type">ToSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231119"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231118"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231117"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-295"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231119"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TSchematic"><span class="hs-identifier hs-type">TSchematic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231118"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231117"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-296"></span><span>  </span><span id="local-6989586621679231115"><span class="annot"><span class="annottext">toSchemaFieldType :: v -&gt; FieldValue sch ('TSchematic t)
</span><a href="#local-6989586621679231115"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679231114"><span class="annot"><span class="annottext">x :: v
</span><a href="#local-6989586621679231114"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: typeName).
Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t)
</span><a href="Mu.Schema.Interpretation.html#FSchematic"><span class="hs-identifier hs-var">FSchematic</span></a></span><span> </span><span class="annot"><span class="annottext">(Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t))
-&gt; Term sch (sch :/: t) -&gt; FieldValue sch ('TSchematic t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; Term sch (sch :/: t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
ToSchema sch sty t =&gt;
t -&gt; Term sch (sch :/: sty)
</span><a href="Mu.Schema.Class.html#toSchema"><span class="hs-identifier hs-var">toSchema</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679231114"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-297"></span><span id="local-6989586621679231110"><span id="local-6989586621679231111"><span id="local-6989586621679231112"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#FromSchema"><span class="hs-identifier hs-type">FromSchema</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231112"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231111"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231110"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-298"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231112"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TSchematic"><span class="hs-identifier hs-type">TSchematic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231111"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231110"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-299"></span><span>  </span><span id="local-6989586621679231108"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TSchematic t) -&gt; v
</span><a href="#local-6989586621679231108"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FSchematic"><span class="hs-identifier hs-type">FSchematic</span></a></span><span> </span><span id="local-6989586621679231107"><span class="annot"><span class="annottext">x :: Term sch (sch :/: t)
</span><a href="#local-6989586621679231107"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: t) -&gt; v
forall typeName fieldName (sch :: Schema typeName fieldName)
       (sty :: typeName) t.
FromSchema sch sty t =&gt;
Term sch (sch :/: sty) -&gt; t
</span><a href="Mu.Schema.Class.html#fromSchema"><span class="hs-identifier hs-var">fromSchema</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch (sch :/: t)
Term sch (sch :/: t)
</span><a href="#local-6989586621679231107"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-300"></span><span id="local-6989586621679231104"><span id="local-6989586621679231105"><span id="local-6989586621679231106"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231106"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231105"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231104"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-301"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231106"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TOption"><span class="hs-identifier hs-type">TOption</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231105"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679231104"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-302"></span><span>  </span><span id="local-6989586621679231102"><span class="annot"><span class="annottext">toSchemaFieldType :: Maybe v -&gt; FieldValue sch ('TOption t)
</span><a href="#local-6989586621679231102"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679231101"><span class="annot"><span class="annottext">x :: Maybe v
</span><a href="#local-6989586621679231101"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue sch t) -&gt; FieldValue sch ('TOption t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
Maybe (FieldValue sch t) -&gt; FieldValue sch ('TOption t)
</span><a href="Mu.Schema.Interpretation.html#FOption"><span class="hs-identifier hs-var">FOption</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(v -&gt; FieldValue sch t) -&gt; Maybe v -&gt; Maybe (FieldValue sch t)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679231101"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-303"></span><span id="local-6989586621679231096"><span id="local-6989586621679231097"><span id="local-6989586621679231098"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231098"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231097"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231096"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-304"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231098"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TOption"><span class="hs-identifier hs-type">TOption</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231097"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679231096"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-305"></span><span>  </span><span id="local-6989586621679231094"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TOption t) -&gt; Maybe v
</span><a href="#local-6989586621679231094"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FOption"><span class="hs-identifier hs-type">FOption</span></a></span><span> </span><span id="local-6989586621679231093"><span class="annot"><span class="annottext">x :: Maybe (FieldValue sch t)
</span><a href="#local-6989586621679231093"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; v
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldValue sch t -&gt; v) -&gt; Maybe (FieldValue sch t) -&gt; Maybe v
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (FieldValue sch t)
</span><a href="#local-6989586621679231093"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-306"></span><span id="local-6989586621679231090"><span id="local-6989586621679231091"><span id="local-6989586621679231092"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231092"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231091"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231090"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-307"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231092"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TList"><span class="hs-identifier hs-type">TList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231091"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679231090"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-308"></span><span>  </span><span id="local-6989586621679231088"><span class="annot"><span class="annottext">toSchemaFieldType :: [v] -&gt; FieldValue sch ('TList t)
</span><a href="#local-6989586621679231088"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679231087"><span class="annot"><span class="annottext">x :: [v]
</span><a href="#local-6989586621679231087"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldValue sch t] -&gt; FieldValue sch ('TList t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName).
[FieldValue sch t] -&gt; FieldValue sch ('TList t)
</span><a href="Mu.Schema.Interpretation.html#FList"><span class="hs-identifier hs-var">FList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(v -&gt; FieldValue sch t) -&gt; [v] -&gt; [FieldValue sch t]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621679231087"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-309"></span><span id="local-6989586621679231083"><span id="local-6989586621679231084"><span id="local-6989586621679231085"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231085"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231084"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231083"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-310"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231085"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TList"><span class="hs-identifier hs-type">TList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231084"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679231083"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-311"></span><span>  </span><span id="local-6989586621679231081"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TList t) -&gt; [v]
</span><a href="#local-6989586621679231081"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FList"><span class="hs-identifier hs-type">FList</span></a></span><span> </span><span id="local-6989586621679231080"><span class="annot"><span class="annottext">x :: [FieldValue sch t]
</span><a href="#local-6989586621679231080"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; v
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldValue sch t -&gt; v) -&gt; [FieldValue sch t] -&gt; [v]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldValue sch t]
</span><a href="#local-6989586621679231080"><span class="hs-identifier hs-var">x</span></a></span></span></span></span><span>
</span><span id="line-312"></span><span id="local-6989586621679231075"><span id="local-6989586621679231076"><span id="local-6989586621679231077"><span id="local-6989586621679231078"><span id="local-6989586621679231079"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231079"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231078"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231077"><span class="hs-identifier hs-type">hk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231079"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231076"><span class="hs-identifier hs-type">sv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231075"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-313"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231079"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231078"><span class="hs-identifier hs-type">sk</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Ord is required to build a map</span><span>
</span><span id="line-314"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231079"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231078"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231076"><span class="hs-identifier hs-type">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679231077"><span class="hs-identifier hs-type">hk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231075"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-315"></span><span>  </span><span id="local-6989586621679231073"><span class="annot"><span class="annottext">toSchemaFieldType :: Map hk hv -&gt; FieldValue sch ('TMap sk sv)
</span><a href="#local-6989586621679231073"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679231072"><span class="annot"><span class="annottext">x :: Map hk hv
</span><a href="#local-6989586621679231072"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (FieldValue sch sk) (FieldValue sch sv)
-&gt; FieldValue sch ('TMap sk sv)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (k :: FieldType typeName) (v :: FieldType typeName).
Ord (FieldValue sch k) =&gt;
Map (FieldValue sch k) (FieldValue sch v)
-&gt; FieldValue sch ('TMap k v)
</span><a href="Mu.Schema.Interpretation.html#FMap"><span class="hs-identifier hs-var">FMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(hk -&gt; FieldValue sch sk)
-&gt; Map hk (FieldValue sch sv)
-&gt; Map (FieldValue sch sk) (FieldValue sch sv)
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">M.mapKeys</span></span><span> </span><span class="annot"><span class="annottext">hk -&gt; FieldValue sch sk
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(hv -&gt; FieldValue sch sv)
-&gt; Map hk hv -&gt; Map hk (FieldValue sch sv)
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">M.map</span></span><span> </span><span class="annot"><span class="annottext">hv -&gt; FieldValue sch sv
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">Map hk hv
</span><a href="#local-6989586621679231072"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-316"></span><span id="local-6989586621679231064"><span id="local-6989586621679231065"><span id="local-6989586621679231066"><span id="local-6989586621679231067"><span id="local-6989586621679231068"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231068"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231067"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231066"><span class="hs-identifier hs-type">hk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231068"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231065"><span class="hs-identifier hs-type">sv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231064"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679231066"><span class="hs-identifier hs-type">hk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231068"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231067"><span class="hs-identifier hs-type">sk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231065"><span class="hs-identifier hs-type">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679231066"><span class="hs-identifier hs-type">hk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231064"><span class="hs-identifier hs-type">hv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-318"></span><span>  </span><span id="local-6989586621679231062"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TMap sk sv) -&gt; Map hk hv
</span><a href="#local-6989586621679231062"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FMap"><span class="hs-identifier hs-type">FMap</span></a></span><span> </span><span id="local-6989586621679231061"><span class="annot"><span class="annottext">x :: Map (FieldValue sch k) (FieldValue sch v)
</span><a href="#local-6989586621679231061"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldValue sch k -&gt; hk) -&gt; Map (FieldValue sch k) hv -&gt; Map hk hv
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><span class="hs-identifier hs-var">M.mapKeys</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch k -&gt; hk
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FieldValue sch v -&gt; hv)
-&gt; Map (FieldValue sch k) (FieldValue sch v)
-&gt; Map (FieldValue sch k) hv
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><span class="hs-identifier hs-var">M.map</span></span><span> </span><span class="annot"><span class="annottext">FieldValue sch v -&gt; hv
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">Map (FieldValue sch k) (FieldValue sch v)
</span><a href="#local-6989586621679231061"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-319"></span><span class="hs-comment">-- This assumes that a union is represented by</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- a value of type 'NS', where types are in</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- the same order.</span><span>
</span><span id="line-322"></span><span id="local-6989586621679231058"><span id="local-6989586621679231059"><span id="local-6989586621679231060"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-323"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231060"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231059"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231058"><span class="hs-identifier hs-type">vs</span></a></span><span>
</span><span id="line-324"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231060"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231059"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679231058"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-325"></span><span>  </span><span id="local-6989586621679231056"><span class="annot"><span class="annottext">toSchemaFieldType :: NS I vs -&gt; FieldValue sch ('TUnion ts)
</span><a href="#local-6989586621679231056"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679231055"><span class="annot"><span class="annottext">t :: NS I vs
</span><a href="#local-6989586621679231055"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; FieldValue sch ('TUnion ts)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (choices :: [FieldType typeName]).
NS (FieldValue sch) choices -&gt; FieldValue sch ('TUnion choices)
</span><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-var">FUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS I vs -&gt; NS (FieldValue sch) ts
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GToSchemaFieldType sch) tss vss =&gt;
NS I vss -&gt; NS (FieldValue sch) tss
</span><a href="#local-6989586621679231053"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS I vs
</span><a href="#local-6989586621679231055"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679231935"><span id="local-6989586621679231936"><span class="annot"><a href="#local-6989586621679231053"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231060"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231936"><span class="hs-identifier hs-type">tss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231935"><span class="hs-identifier hs-type">vss</span></a></span><span>
</span><span id="line-327"></span><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679231935"><span class="hs-identifier hs-type">vss</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231060"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231936"><span class="hs-identifier hs-type">tss</span></a></span></span></span><span>
</span><span id="line-328"></span><span>          </span><span id="local-6989586621679231053"><span class="annot"><span class="annottext">go :: NS I vss -&gt; NS (FieldValue sch) tss
</span><a href="#local-6989586621679231053"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span id="local-6989586621679231050"><span class="annot"><span class="annottext">x :: x
</span><a href="#local-6989586621679231050"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch (Head tss)
-&gt; NS (FieldValue sch) (Head tss : Tail tss)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x -&gt; FieldValue sch (Head tss)
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679231050"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>          </span><span class="annot"><a href="#local-6989586621679231053"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679231048"><span class="annot"><span class="annottext">n :: NS I xs
</span><a href="#local-6989586621679231048"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (Tail tss)
-&gt; NS (FieldValue sch) (Head tss : Tail tss)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS I xs -&gt; NS (FieldValue sch) (Tail tss)
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GToSchemaFieldType sch) tss vss =&gt;
NS I vss -&gt; NS (FieldValue sch) tss
</span><a href="#local-6989586621679231053"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS I xs
</span><a href="#local-6989586621679231048"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-330"></span><span id="local-6989586621679231045"><span id="local-6989586621679231046"><span id="local-6989586621679231047"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-331"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231047"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231046"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231045"><span class="hs-identifier hs-type">vs</span></a></span><span>
</span><span id="line-332"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231047"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231046"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679231045"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-333"></span><span>  </span><span id="local-6989586621679231043"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TUnion ts) -&gt; NS I vs
</span><a href="#local-6989586621679231043"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-type">FUnion</span></a></span><span> </span><span id="local-6989586621679231042"><span class="annot"><span class="annottext">t :: NS (FieldValue sch) choices
</span><a href="#local-6989586621679231042"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) choices -&gt; NS I vs
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GFromSchemaFieldType sch) tss vss =&gt;
NS (FieldValue sch) tss -&gt; NS I vss
</span><a href="#local-6989586621679231041"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) choices
</span><a href="#local-6989586621679231042"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-334"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679231915"><span id="local-6989586621679231916"><span class="annot"><a href="#local-6989586621679231041"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">AllZip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231047"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231916"><span class="hs-identifier hs-type">tss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231915"><span class="hs-identifier hs-type">vss</span></a></span><span>
</span><span id="line-335"></span><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231047"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231916"><span class="hs-identifier hs-type">tss</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">I</span></span><span> </span><span class="annot"><a href="#local-6989586621679231915"><span class="hs-identifier hs-type">vss</span></a></span></span></span><span>
</span><span id="line-336"></span><span>          </span><span id="local-6989586621679231041"><span class="annot"><span class="annottext">go :: NS (FieldValue sch) tss -&gt; NS I vss
</span><a href="#local-6989586621679231041"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679231040"><span class="annot"><span class="annottext">x :: FieldValue sch x
</span><a href="#local-6989586621679231040"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I (Head vss) -&gt; NS I (Head vss : Tail vss)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Head vss -&gt; I (Head vss)
forall a. a -&gt; I a
</span><span class="hs-identifier hs-var">I</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; Head vss
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679231040"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>          </span><span class="annot"><a href="#local-6989586621679231041"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679231039"><span class="annot"><span class="annottext">n :: NS (FieldValue sch) xs
</span><a href="#local-6989586621679231039"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS I (Tail vss) -&gt; NS I (Head vss : Tail vss)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) xs -&gt; NS I (Tail vss)
forall (tss :: [FieldType typeName]) (vss :: [*]).
AllZip (GFromSchemaFieldType sch) tss vss =&gt;
NS (FieldValue sch) tss -&gt; NS I vss
</span><a href="#local-6989586621679231041"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679231039"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-338"></span><span class="hs-comment">-- But we can also use any other if it has</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- the right structure</span><span>
</span><span id="line-340"></span><span id="local-6989586621679231036"><span id="local-6989586621679231037"><span id="local-6989586621679231038"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-341"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679231038"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231037"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231036"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679231038"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231037"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231036"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231038"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-343"></span><span>  </span><span id="local-6989586621679231034"><span class="annot"><span class="annottext">toSchemaFieldType :: f -&gt; FieldValue sch ('TUnion ts)
</span><a href="#local-6989586621679231034"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldType</span></a></span></span><span> </span><span id="local-6989586621679231033"><span class="annot"><span class="annottext">x :: f
</span><a href="#local-6989586621679231033"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; FieldValue sch ('TUnion ts)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (choices :: [FieldType typeName]).
NS (FieldValue sch) choices -&gt; FieldValue sch ('TUnion choices)
</span><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-var">FUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rep f Any -&gt; NS (FieldValue sch) ts
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f -&gt; Rep f Any
forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">f
</span><a href="#local-6989586621679231033"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-344"></span><span id="local-6989586621679231030"><span id="local-6989586621679231031"><span id="local-6989586621679231032"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-345"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679231032"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231031"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231030"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679231032"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231031"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#TUnion"><span class="hs-identifier hs-type">TUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231030"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231032"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-347"></span><span>  </span><span id="local-6989586621679231028"><span class="annot"><span class="annottext">fromSchemaFieldType :: FieldValue sch ('TUnion ts) -&gt; f
</span><a href="#local-6989586621679231028"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#FUnion"><span class="hs-identifier hs-type">FUnion</span></a></span><span> </span><span id="local-6989586621679231027"><span class="annot"><span class="annottext">x :: NS (FieldValue sch) choices
</span><a href="#local-6989586621679231027"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rep f Any -&gt; f
forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) choices -&gt; Rep f Any
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) choices
</span><a href="#local-6989586621679231027"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span id="local-6989586621679231026"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231026"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-350"></span><span>  </span><span id="local-6989586621679231023"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: U1 a -&gt; NS (FieldValue sch) '[]
</span><a href="#local-6989586621679231023"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NS (FieldValue sch) '[]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;this should never happen&quot;</span></span></span><span>
</span><span id="line-351"></span><span id="local-6989586621679231020"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231020"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-352"></span><span>  </span><span id="local-6989586621679231017"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[] -&gt; U1 a
</span><a href="#local-6989586621679231017"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span><span>
</span><span id="line-353"></span><span id="local-6989586621679231014"><span id="local-6989586621679231015"><span id="local-6989586621679231016"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231016"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679231015"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231014"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-354"></span><span>  </span><span id="local-6989586621679231012"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: M1 i t U1 a -&gt; NS (FieldValue sch) '[]
</span><a href="#local-6989586621679231012"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NS (FieldValue sch) '[]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span></span><span>
</span><span id="line-355"></span><span id="local-6989586621679231009"><span id="local-6989586621679231010"><span id="local-6989586621679231011"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231011"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679231010"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231009"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-356"></span><span>  </span><span id="local-6989586621679231007"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[] -&gt; M1 i t U1 a
</span><a href="#local-6989586621679231007"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a -&gt; M1 i t U1 a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span></span></span><span>
</span><span id="line-357"></span><span id="local-6989586621679231005"><span id="local-6989586621679231006"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-358"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;the type does not match the union&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-359"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231006"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679231005"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-360"></span><span>  </span><span id="local-6989586621679231003"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: f a -&gt; NS (FieldValue sch) '[]
</span><a href="#local-6989586621679231003"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; f a -&gt; NS (FieldValue sch) '[]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span><span>
</span><span id="line-361"></span><span id="local-6989586621679231001"><span id="local-6989586621679231002"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-362"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;the type does not match the union&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231002"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679231001"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-364"></span><span>  </span><span id="local-6989586621679230999"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[] -&gt; f a
</span><a href="#local-6989586621679230999"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NS (FieldValue sch) '[] -&gt; f a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span id="local-6989586621679230996"><span id="local-6989586621679230997"><span id="local-6989586621679230998"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230998"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230997"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230996"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230998"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679230997"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679230996"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-368"></span><span>  </span><span id="local-6989586621679230994"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: v a -&gt; NS (FieldValue sch) '[t]
</span><a href="#local-6989586621679230994"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span>   </span><span id="local-6989586621679230993"><span class="annot"><span class="annottext">x :: v a
</span><a href="#local-6989586621679230993"><span class="hs-identifier hs-var">x</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; NS (FieldValue sch) '[t]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679230993"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-369"></span><span id="local-6989586621679230990"><span id="local-6989586621679230991"><span id="local-6989586621679230992"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230992"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230991"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230990"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230992"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679230991"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679230990"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-371"></span><span>  </span><span id="local-6989586621679230988"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) '[t] -&gt; v a
</span><a href="#local-6989586621679230988"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679230987"><span class="annot"><span class="annottext">x :: FieldValue sch x
</span><a href="#local-6989586621679230987"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch x -&gt; v a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679230987"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-372"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; v a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;this should never happen&quot;</span></span></span></span></span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-comment">-- remove M1 from thing with more than one element</span><span>
</span><span id="line-375"></span><span id="local-6989586621679230980"><span id="local-6989586621679230981"><span id="local-6989586621679230982"><span id="local-6989586621679230983"><span id="local-6989586621679230984"><span id="local-6989586621679230985"><span id="local-6989586621679230986"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230986"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230984"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230983"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230982"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230986"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230984"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230983"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230981"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230980"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230982"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-377"></span><span>  </span><span id="local-6989586621679230978"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: M1 i t v a -&gt; NS (FieldValue sch) (a : b : rest)
</span><a href="#local-6989586621679230978"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679230977"><span class="annot"><span class="annottext">x :: v a
</span><a href="#local-6989586621679230977"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v a -&gt; NS (FieldValue sch) (a : b : rest)
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679230977"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-378"></span><span id="local-6989586621679230970"><span id="local-6989586621679230971"><span id="local-6989586621679230972"><span id="local-6989586621679230973"><span id="local-6989586621679230974"><span id="local-6989586621679230975"><span id="local-6989586621679230976"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-#&#160;OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230976"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230975"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230974"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230973"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230972"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230976"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230975"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230974"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230973"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230971"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230970"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230972"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-380"></span><span>  </span><span id="local-6989586621679230968"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) (a : b : rest) -&gt; M1 i t v a
</span><a href="#local-6989586621679230968"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span id="local-6989586621679230967"><span class="annot"><span class="annottext">x :: NS (FieldValue sch) (a : b : rest)
</span><a href="#local-6989586621679230967"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v a -&gt; M1 i t v a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) (a : b : rest) -&gt; v a
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (a : b : rest)
</span><a href="#local-6989586621679230967"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span id="local-6989586621679230962"><span id="local-6989586621679230963"><span id="local-6989586621679230964"><span id="local-6989586621679230965"><span id="local-6989586621679230966"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230966"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230965"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230964"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230966"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230963"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230962"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230966"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230965"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230963"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230964"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230962"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-384"></span><span>  </span><span id="local-6989586621679230960"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: (:+:) v vs a -&gt; NS (FieldValue sch) (t : ts)
</span><a href="#local-6989586621679230960"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679230958"><span class="annot"><span class="annottext">x :: v a
</span><a href="#local-6989586621679230958"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; NS (FieldValue sch) (t : ts)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">v a
</span><a href="#local-6989586621679230958"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679230956"><span class="annot"><span class="annottext">r :: vs a
</span><a href="#local-6989586621679230956"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; NS (FieldValue sch) (t : ts)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">vs a -&gt; NS (FieldValue sch) ts
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">vs a
</span><a href="#local-6989586621679230956"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-386"></span><span id="local-6989586621679230951"><span id="local-6989586621679230952"><span id="local-6989586621679230953"><span id="local-6989586621679230954"><span id="local-6989586621679230955"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230955"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230954"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230953"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230955"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230952"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230951"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230955"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230954"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230952"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230953"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230951"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-388"></span><span>  </span><span id="local-6989586621679230949"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) (t : ts) -&gt; (:+:) v vs a
</span><a href="#local-6989586621679230949"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679230948"><span class="annot"><span class="annottext">x :: FieldValue sch x
</span><a href="#local-6989586621679230948"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v a -&gt; (:+:) v vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; v a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679230948"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679230947"><span class="annot"><span class="annottext">r :: NS (FieldValue sch) xs
</span><a href="#local-6989586621679230947"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">vs a -&gt; (:+:) v vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) xs -&gt; vs a
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679230947"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-390"></span><span class="hs-comment">-- Weird nested instance produced by GHC</span><span>
</span><span id="line-391"></span><span id="local-6989586621679230940"><span id="local-6989586621679230941"><span id="local-6989586621679230942"><span id="local-6989586621679230943"><span id="local-6989586621679230944"><span id="local-6989586621679230945"><span id="local-6989586621679230946"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230946"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230945"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230944"><span class="hs-identifier hs-type">v1</span></a></span><span>
</span><span id="line-392"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GToSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230946"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230943"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230942"><span class="hs-identifier hs-type">v2</span></a></span><span>
</span><span id="line-393"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230946"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230941"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230940"><span class="hs-identifier hs-type">vs</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GToSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230946"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230945"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230943"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230941"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230944"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230942"><span class="hs-identifier hs-type">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230940"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-395"></span><span>  </span><span id="local-6989586621679230938"><span class="annot"><span class="annottext">toSchemaFieldTypeUnion :: (:+:) (v1 :+: v2) vs a -&gt; NS (FieldValue sch) (t1 : t2 : ts)
</span><a href="#local-6989586621679230938"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679230937"><span class="annot"><span class="annottext">x :: v1 a
</span><a href="#local-6989586621679230937"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t1 -&gt; NS (FieldValue sch) (t1 : t2 : ts)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v1 a -&gt; FieldValue sch t1
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">v1 a
</span><a href="#local-6989586621679230937"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679230936"><span class="annot"><span class="annottext">x :: v2 a
</span><a href="#local-6989586621679230936"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (t2 : ts) -&gt; NS (FieldValue sch) (t1 : t2 : ts)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch t2 -&gt; NS (FieldValue sch) (t2 : ts)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v2 a -&gt; FieldValue sch t2
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GToSchemaFieldTypeWrap sch t f =&gt;
f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeW"><span class="hs-identifier hs-var">toSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">v2 a
</span><a href="#local-6989586621679230936"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-397"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679230935"><span class="annot"><span class="annottext">r :: vs a
</span><a href="#local-6989586621679230935"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) (t2 : ts) -&gt; NS (FieldValue sch) (t1 : t2 : ts)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) ts -&gt; NS (FieldValue sch) (t2 : ts)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">vs a -&gt; NS (FieldValue sch) ts
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GToSchemaFieldTypeUnion sch t f =&gt;
f a -&gt; NS (FieldValue sch) t
</span><a href="Mu.Schema.Class.html#toSchemaFieldTypeUnion"><span class="hs-identifier hs-var">toSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">vs a
</span><a href="#local-6989586621679230935"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-398"></span><span id="local-6989586621679230928"><span id="local-6989586621679230929"><span id="local-6989586621679230930"><span id="local-6989586621679230931"><span id="local-6989586621679230932"><span id="local-6989586621679230933"><span id="local-6989586621679230934"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230934"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230933"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230932"><span class="hs-identifier hs-type">v1</span></a></span><span>
</span><span id="line-399"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeWrap"><span class="hs-identifier hs-type">GFromSchemaFieldTypeWrap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230934"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230931"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230930"><span class="hs-identifier hs-type">v2</span></a></span><span>
</span><span id="line-400"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230934"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230929"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230928"><span class="hs-identifier hs-type">vs</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldTypeUnion"><span class="hs-identifier hs-type">GFromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230934"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230933"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230931"><span class="hs-identifier hs-type">t2</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230929"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230932"><span class="hs-identifier hs-type">v1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230930"><span class="hs-identifier hs-type">v2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230928"><span class="hs-identifier hs-type">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-402"></span><span>  </span><span id="local-6989586621679230926"><span class="annot"><span class="annottext">fromSchemaFieldTypeUnion :: NS (FieldValue sch) (t1 : t2 : ts) -&gt; (:+:) (v1 :+: v2) vs a
</span><a href="#local-6989586621679230926"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaFieldTypeUnion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679230925"><span class="annot"><span class="annottext">x :: FieldValue sch x
</span><a href="#local-6989586621679230925"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:+:) v1 v2 a -&gt; (:+:) (v1 :+: v2) vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v1 a -&gt; (:+:) v1 v2 a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; v1 a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679230925"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span id="local-6989586621679230924"><span class="annot"><span class="annottext">x :: FieldValue sch x
</span><a href="#local-6989586621679230924"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(:+:) v1 v2 a -&gt; (:+:) (v1 :+: v2) vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v2 a -&gt; (:+:) v1 v2 a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldValue sch x -&gt; v2 a
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeWrap sch t f =&gt;
FieldValue sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeW"><span class="hs-identifier hs-var">fromSchemaFieldTypeW</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch x
</span><a href="#local-6989586621679230924"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679230923"><span class="annot"><span class="annottext">r :: NS (FieldValue sch) xs
</span><a href="#local-6989586621679230923"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">vs a -&gt; (:+:) (v1 :+: v2) vs a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NS (FieldValue sch) xs -&gt; vs a
forall ts fs (sch :: Schema ts fs) (t :: [FieldType ts])
       (f :: * -&gt; *) a.
GFromSchemaFieldTypeUnion sch t f =&gt;
NS (FieldValue sch) t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaFieldTypeUnion"><span class="hs-identifier hs-var">fromSchemaFieldTypeUnion</span></a></span><span> </span><span class="annot"><span class="annottext">NS (FieldValue sch) xs
</span><a href="#local-6989586621679230923"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-comment">-- ---------------</span><span>
</span><span id="line-408"></span><span class="hs-comment">-- ENUMERATIONS --</span><span>
</span><span id="line-409"></span><span class="hs-comment">------------------</span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span id="local-6989586621679230918"><span id="local-6989586621679230919"><span id="local-6989586621679230920"><span id="local-6989586621679230921"><span id="local-6989586621679230922"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-412"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230922"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230921"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230920"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230919"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230922"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230918"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230921"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230920"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>  </span><span id="local-6989586621679230916"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; f a -&gt; Term sch ('DEnum name choices)
</span><a href="#local-6989586621679230916"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679230915"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230915"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679230914"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679230914"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy choices -&gt; Term sch ('DEnum name choices)
forall fieldName typeName (name :: [ChoiceDef fieldName])
       (sch :: Schema typeName fieldName) (name :: typeName).
NS Proxy name -&gt; Term sch ('DEnum name name)
</span><a href="Mu.Schema.Interpretation.html#TEnum"><span class="hs-identifier hs-var">TEnum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; NS Proxy choices
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GToSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; f a -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230915"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679230914"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-415"></span><span id="local-6989586621679230907"><span id="local-6989586621679230908"><span id="local-6989586621679230909"><span id="local-6989586621679230910"><span id="local-6989586621679230911"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-416"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230911"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230910"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230909"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-417"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230908"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230911"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230907"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230910"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230909"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-418"></span><span>  </span><span id="local-6989586621679230905"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DEnum name choices) -&gt; f a
</span><a href="#local-6989586621679230905"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679230904"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230904"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#TEnum"><span class="hs-identifier hs-type">TEnum</span></a></span><span> </span><span id="local-6989586621679230903"><span class="annot"><span class="annottext">x :: NS Proxy choices
</span><a href="#local-6989586621679230903"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NS Proxy choices -&gt; f a
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GFromSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; NS Proxy choices -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-var">fromSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230904"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NS Proxy choices
</span><a href="#local-6989586621679230903"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-419"></span><span class="hs-comment">-- This instance removes unneeded metadata from the</span><span>
</span><span id="line-420"></span><span class="hs-comment">-- top of the type.</span><span>
</span><span id="line-421"></span><span id="local-6989586621679230896"><span id="local-6989586621679230897"><span id="local-6989586621679230898"><span id="local-6989586621679230899"><span id="local-6989586621679230900"><span id="local-6989586621679230901"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-422"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230901"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230900"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230899"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230898"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230897"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-423"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230901"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230900"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230899"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230898"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230896"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230897"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-424"></span><span>  </span><span id="local-6989586621679230894"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; D1 meta f a -&gt; Term sch ('DEnum name choices)
</span><a href="#local-6989586621679230894"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679230893"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230893"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679230892"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679230892"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; Term sch ('DEnum name choices)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230893"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679230892"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-425"></span><span id="local-6989586621679230886"><span id="local-6989586621679230887"><span id="local-6989586621679230888"><span id="local-6989586621679230889"><span id="local-6989586621679230890"><span id="local-6989586621679230891"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-426"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230891"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230890"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230889"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230888"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230887"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-427"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230891"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230890"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DEnum"><span class="hs-identifier hs-type">DEnum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230889"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230888"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230886"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230887"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-428"></span><span>  </span><span id="local-6989586621679230884"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DEnum name choices) -&gt; D1 meta f a
</span><a href="#local-6989586621679230884"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679230883"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230883"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679230882"><span class="annot"><span class="annottext">x :: Term sch ('DEnum name choices)
</span><a href="#local-6989586621679230882"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; D1 meta f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch ('DEnum name choices) -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230883"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch ('DEnum name choices)
</span><a href="#local-6989586621679230882"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-comment">-- 'toSchema' for enumerations:</span><span>
</span><span id="line-431"></span><span class="hs-comment">-- 1. recursively decompose the (:+:)s into their atomic components</span><span>
</span><span id="line-432"></span><span class="hs-comment">--    this is done by 'GToSchemaEnumSymbol'</span><span>
</span><span id="line-433"></span><span class="hs-comment">-- 2. for each atomic component, figure out which is the element</span><span>
</span><span id="line-434"></span><span class="hs-comment">--    in the schema's enumeration that it corresponds to</span><span>
</span><span id="line-435"></span><span class="hs-comment">--    this is done by 'MappingRight' and 'Find'</span><span>
</span><span id="line-436"></span><span class="hs-comment">-- 3. from that location, build a 'Proxy' value</span><span>
</span><span id="line-437"></span><span class="hs-comment">--    this is done by 'GToSchemaEnumProxy'</span><span>
</span><span id="line-438"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaEnumDecompose"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-var">GToSchemaEnumDecompose</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231755"><span class="annot"><a href="#local-6989586621679231755"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span id="local-6989586621679231756"><span class="annot"><a href="#local-6989586621679231756"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-439"></span><span>                             </span><span class="hs-special">(</span><span id="local-6989586621679231754"><span class="annot"><a href="#local-6989586621679231754"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231756"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231753"><span class="annot"><a href="#local-6989586621679231753"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-440"></span><span>  </span><span id="local-6989586621679231752"><span id="toSchemaEnumDecomp"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-type">toSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231755"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231753"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231752"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231754"><span class="hs-identifier hs-type">choices</span></a></span></span><span>
</span><span id="line-441"></span><span id="local-6989586621679230878"><span id="local-6989586621679230879"><span id="local-6989586621679230880"><span id="local-6989586621679230881"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230881"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230880"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230879"><span class="hs-identifier hs-type">oneway</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230881"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230880"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230878"><span class="hs-identifier hs-type">oranother</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230881"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230880"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230879"><span class="hs-identifier hs-type">oneway</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230878"><span class="hs-identifier hs-type">oranother</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-443"></span><span>  </span><span id="local-6989586621679230875"><span class="annot"><span class="annottext">toSchemaEnumDecomp :: Proxy fmap -&gt; (:+:) oneway oranother a -&gt; NS Proxy choices
</span><a href="#local-6989586621679230875"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumDecomp</span></a></span></span><span> </span><span id="local-6989586621679230874"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230874"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679230873"><span class="annot"><span class="annottext">x :: oneway a
</span><a href="#local-6989586621679230873"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; oneway a -&gt; NS Proxy choices
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GToSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; f a -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230874"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">oneway a
</span><a href="#local-6989586621679230873"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-444"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span id="local-6989586621679230872"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230872"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679230871"><span class="annot"><span class="annottext">x :: oranother a
</span><a href="#local-6989586621679230871"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; oranother a -&gt; NS Proxy choices
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GToSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; f a -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumDecomp"><span class="hs-identifier hs-var">toSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230872"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">oranother a
</span><a href="#local-6989586621679230871"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-445"></span><span id="local-6989586621679230865"><span id="local-6989586621679230866"><span id="local-6989586621679230867"><span id="local-6989586621679230868"><span id="local-6989586621679230869"><span id="local-6989586621679230870"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230870"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-type">FindEnumChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230870"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230869"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230868"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumDecompose"><span class="hs-identifier hs-type">GToSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230869"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230870"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679230868"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230867"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230866"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230865"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-447"></span><span>  </span><span id="local-6989586621679230863"><span class="annot"><span class="annottext">toSchemaEnumDecomp :: Proxy fmap -&gt; C1 ('MetaCons c p s) f a -&gt; NS Proxy choices
</span><a href="#local-6989586621679230863"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>
</span><span id="line-448"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy choices
-&gt; Proxy (FindEnumChoice choices (MappingRight fmap c))
-&gt; NS Proxy choices
forall k (choices :: [k]) (w :: Where).
GToSchemaEnumProxy choices w =&gt;
Proxy choices -&gt; Proxy w -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumProxy"><span class="hs-identifier hs-var">toSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy choices
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679230870"><span class="hs-identifier hs-type">choices</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindEnumChoice choices (MappingRight fmap c))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindEnumChoice"><span class="hs-identifier hs-type">FindEnumChoice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230870"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230869"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230868"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-449"></span><span class="hs-comment">-- Types which have no constructor information cannot be used here</span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaEnumProxy"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-var">GToSchemaEnumProxy</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231698"><span class="annot"><a href="#local-6989586621679231698"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span id="local-6989586621679231699"><span class="annot"><a href="#local-6989586621679231699"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231697"><span class="annot"><a href="#local-6989586621679231697"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-452"></span><span>  </span><span id="toSchemaEnumProxy"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaEnumProxy"><span class="hs-identifier hs-type">toSchemaEnumProxy</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231698"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231697"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231698"><span class="hs-identifier hs-type">choices</span></a></span><span>
</span><span id="line-453"></span><span id="local-6989586621679230860"><span id="local-6989586621679230861"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230861"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230860"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-454"></span><span>  </span><span id="local-6989586621679230857"><span class="annot"><span class="annottext">toSchemaEnumProxy :: Proxy (c : cs) -&gt; Proxy 'Here -&gt; NS Proxy (c : cs)
</span><a href="#local-6989586621679230857"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumProxy</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy c -&gt; NS Proxy (c : cs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]). a x -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">Z</span></span><span> </span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span></span></span><span>
</span><span id="line-455"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679230855"><span class="annot"><a href="#local-6989586621679230855"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679230854"><span class="annot"><a href="#local-6989586621679230854"><span class="hs-identifier hs-type">cs</span></a></span></span><span> </span><span id="local-6989586621679230853"><span class="annot"><a href="#local-6989586621679230853"><span class="hs-identifier hs-type">w</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230854"><span class="hs-identifier hs-type">cs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230853"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-456"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaEnumProxy"><span class="hs-identifier hs-type">GToSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230855"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230854"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230853"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-457"></span><span>  </span><span id="local-6989586621679230852"><span class="annot"><span class="annottext">toSchemaEnumProxy :: Proxy (c : cs) -&gt; Proxy ('There w) -&gt; NS Proxy (c : cs)
</span><a href="#local-6989586621679230852"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaEnumProxy</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NS Proxy cs -&gt; NS Proxy (c : cs)
forall k (a :: k -&gt; *) (xs :: [k]) (x :: k).
NS a xs -&gt; NS a (x : xs)
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy cs -&gt; Proxy w -&gt; NS Proxy cs
forall k (choices :: [k]) (w :: Where).
GToSchemaEnumProxy choices w =&gt;
Proxy choices -&gt; Proxy w -&gt; NS Proxy choices
</span><a href="Mu.Schema.Class.html#toSchemaEnumProxy"><span class="hs-identifier hs-var">toSchemaEnumProxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy cs
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679230854"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy w
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679230853"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span>
</span><span id="line-459"></span><span class="hs-comment">-- 'fromSchema' for enumerations:</span><span>
</span><span id="line-460"></span><span class="hs-comment">-- 1. for each element in the list of choices</span><span>
</span><span id="line-461"></span><span class="hs-comment">--    (this iteration is done by 'GFromSchemaEnumDecomp')</span><span>
</span><span id="line-462"></span><span class="hs-comment">--    figure out the constructor it corresponds to</span><span>
</span><span id="line-463"></span><span class="hs-comment">--    this is done by 'MappingLeft' and 'FindCon'</span><span>
</span><span id="line-464"></span><span class="hs-comment">-- 2. from that location, build a 'U1' value wrapped</span><span>
</span><span id="line-465"></span><span class="hs-comment">--    in as many 'L1' and 'R1' required.</span><span>
</span><span id="line-466"></span><span class="hs-comment">--    this is done by 'GFromSchemaEnumU1'</span><span>
</span><span id="line-467"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaEnumDecompose"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-var">GFromSchemaEnumDecompose</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231740"><span class="annot"><a href="#local-6989586621679231740"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span id="local-6989586621679231741"><span class="annot"><a href="#local-6989586621679231741"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231739"><span class="annot"><a href="#local-6989586621679231739"><span class="hs-identifier hs-type">choices</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231741"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231738"><span class="annot"><a href="#local-6989586621679231738"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-468"></span><span>  </span><span id="local-6989586621679231737"><span id="fromSchemaEnumDecomp"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-type">fromSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231740"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231739"><span class="hs-identifier hs-type">choices</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231738"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231737"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-469"></span><span id="local-6989586621679230850"><span id="local-6989586621679230851"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230851"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679230850"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-470"></span><span>  </span><span id="local-6989586621679230847"><span class="annot"><span class="annottext">fromSchemaEnumDecomp :: Proxy fmap -&gt; NS Proxy '[] -&gt; f a
</span><a href="#local-6989586621679230847"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; f a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;This should never happen&quot;</span></span></span></span><span>
</span><span id="line-471"></span><span id="local-6989586621679230843"><span id="local-6989586621679230844"><span id="local-6989586621679230845"><span id="local-6989586621679230846"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230846"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-type">FindCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230846"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230845"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230844"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230845"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230843"><span class="hs-identifier hs-type">cs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230846"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumDecompose"><span class="hs-identifier hs-type">GFromSchemaEnumDecompose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230845"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#ChoiceDef"><span class="hs-identifier hs-type">ChoiceDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230844"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230843"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230846"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-473"></span><span>  </span><span id="local-6989586621679230841"><span class="annot"><span class="annottext">fromSchemaEnumDecomp :: Proxy fmap -&gt; NS Proxy ('ChoiceDef c : cs) -&gt; f a
</span><a href="#local-6989586621679230841"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumDecomp</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Z</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy f -&gt; Proxy (FindCon f (MappingLeft fmap c)) -&gt; f a
forall (f :: * -&gt; *) (w :: Where) a.
GFromSchemaEnumU1 f w =&gt;
Proxy f -&gt; Proxy w -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-var">fromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679230846"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindCon f (MappingLeft fmap c))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindCon"><span class="hs-identifier hs-type">FindCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230846"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230845"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230844"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-474"></span><span>  </span><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-var">fromSchemaEnumDecomp</span></a></span><span> </span><span id="local-6989586621679230839"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230839"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679230838"><span class="annot"><span class="annottext">x :: NS Proxy xs
</span><a href="#local-6989586621679230838"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NS Proxy xs -&gt; f a
forall fs (fmap :: Mappings Symbol fs) (choices :: [ChoiceDef fs])
       (f :: * -&gt; *) a.
GFromSchemaEnumDecompose fmap choices f =&gt;
Proxy fmap -&gt; NS Proxy choices -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumDecomp"><span class="hs-identifier hs-var">fromSchemaEnumDecomp</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230839"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NS Proxy xs
</span><a href="#local-6989586621679230838"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaEnumU1"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-var">GFromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231673"><span class="annot"><a href="#local-6989586621679231673"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231672"><span class="annot"><a href="#local-6989586621679231672"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-477"></span><span>  </span><span id="local-6989586621679231671"><span id="fromSchemaEnumU1"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-type">fromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231673"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231672"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231673"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231671"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-478"></span><span id="local-6989586621679230836"><span id="local-6989586621679230837"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230837"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230836"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-479"></span><span>  </span><span id="local-6989586621679230833"><span class="annot"><span class="annottext">fromSchemaEnumU1 :: Proxy (C1 m U1 :+: rest) -&gt; Proxy 'Here -&gt; (:+:) (C1 m U1) rest a
</span><a href="#local-6989586621679230833"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">M1 C m U1 a -&gt; (:+:) (C1 m U1) rest a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">U1 a -&gt; M1 C m U1 a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-480"></span><span id="local-6989586621679230832"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230832"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-481"></span><span>  </span><span id="local-6989586621679230830"><span class="annot"><span class="annottext">fromSchemaEnumU1 :: Proxy (C1 m U1) -&gt; Proxy 'Here -&gt; C1 m U1 a
</span><a href="#local-6989586621679230830"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a -&gt; C1 m U1 a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span><span>
</span><span id="line-482"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679230828"><span class="annot"><a href="#local-6989586621679230828"><span class="hs-identifier hs-type">other</span></a></span></span><span> </span><span id="local-6989586621679230827"><span class="annot"><a href="#local-6989586621679230827"><span class="hs-identifier hs-type">rest</span></a></span></span><span> </span><span id="local-6989586621679230826"><span class="annot"><a href="#local-6989586621679230826"><span class="hs-identifier hs-type">w</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230827"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230826"><span class="hs-identifier hs-type">w</span></a></span><span>
</span><span id="line-483"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaEnumU1"><span class="hs-identifier hs-type">GFromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230828"><span class="hs-identifier hs-type">other</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230827"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230826"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-484"></span><span>  </span><span id="local-6989586621679230825"><span class="annot"><span class="annottext">fromSchemaEnumU1 :: Proxy (other :+: rest) -&gt; Proxy ('There w) -&gt; (:+:) other rest a
</span><a href="#local-6989586621679230825"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaEnumU1</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">rest a -&gt; (:+:) other rest a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy rest -&gt; Proxy w -&gt; rest a
forall (f :: * -&gt; *) (w :: Where) a.
GFromSchemaEnumU1 f w =&gt;
Proxy f -&gt; Proxy w -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaEnumU1"><span class="hs-identifier hs-var">fromSchemaEnumU1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy rest
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679230827"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy w
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679230826"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span class="hs-comment">-- ----------</span><span>
</span><span id="line-487"></span><span class="hs-comment">-- RECORDS --</span><span>
</span><span id="line-488"></span><span class="hs-comment">-------------</span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span id="local-6989586621679230820"><span id="local-6989586621679230821"><span id="local-6989586621679230822"><span id="local-6989586621679230823"><span id="local-6989586621679230824"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-491"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230824"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230823"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230822"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230821"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-492"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230824"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230823"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230820"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230822"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230821"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-493"></span><span>  </span><span id="local-6989586621679230818"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; f a -&gt; Term sch ('DRecord name args)
</span><a href="#local-6989586621679230818"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679230817"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230817"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679230816"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679230816"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args -&gt; Term sch ('DRecord name args)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (args :: [FieldDef typeName fieldName]) (name :: typeName).
NP (Field sch) args -&gt; Term sch ('DRecord name args)
</span><a href="Mu.Schema.Interpretation.html#TRecord"><span class="hs-identifier hs-var">TRecord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; NP (Field sch) args
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GToSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; f a -&gt; NP (Field sch) args
</span><a href="Mu.Schema.Class.html#toSchemaRecord"><span class="hs-identifier hs-var">toSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230817"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679230816"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-494"></span><span id="local-6989586621679230809"><span id="local-6989586621679230810"><span id="local-6989586621679230811"><span id="local-6989586621679230812"><span id="local-6989586621679230813"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-495"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230813"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230812"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230811"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230810"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-496"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230813"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230812"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230809"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230811"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230810"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-497"></span><span>  </span><span id="local-6989586621679230807"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; f a
</span><a href="#local-6989586621679230807"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679230806"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230806"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#TRecord"><span class="hs-identifier hs-type">TRecord</span></a></span><span> </span><span id="local-6989586621679230805"><span class="annot"><span class="annottext">x :: NP (Field sch) args
</span><a href="#local-6989586621679230805"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NP (Field sch) args -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GFromSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; NP (Field sch) args -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-var">fromSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230806"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679230805"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-498"></span><span class="hs-comment">-- This instance removes unneeded metadata from the</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- top of the type.</span><span>
</span><span id="line-500"></span><span id="local-6989586621679230798"><span id="local-6989586621679230799"><span id="local-6989586621679230800"><span id="local-6989586621679230801"><span id="local-6989586621679230802"><span id="local-6989586621679230803"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-501"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230803"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230802"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230801"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230800"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230799"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-502"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230803"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230802"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230801"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230800"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230798"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230799"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-503"></span><span>  </span><span id="local-6989586621679230796"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; D1 meta f a -&gt; Term sch ('DRecord name args)
</span><a href="#local-6989586621679230796"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679230795"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230795"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679230794"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679230794"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; Term sch ('DRecord name args)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230795"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679230794"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-504"></span><span id="local-6989586621679230788"><span id="local-6989586621679230789"><span id="local-6989586621679230790"><span id="local-6989586621679230791"><span id="local-6989586621679230792"><span id="local-6989586621679230793"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-505"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230793"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230792"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230791"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230790"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230789"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-506"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230793"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230792"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230791"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230790"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">D1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230788"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230789"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-507"></span><span>  </span><span id="local-6989586621679230786"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; D1 meta f a
</span><a href="#local-6989586621679230786"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679230785"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230785"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679230784"><span class="annot"><span class="annottext">x :: Term sch ('DRecord name args)
</span><a href="#local-6989586621679230784"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; D1 meta f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230785"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch ('DRecord name args)
</span><a href="#local-6989586621679230784"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-508"></span><span id="local-6989586621679230778"><span id="local-6989586621679230779"><span id="local-6989586621679230780"><span id="local-6989586621679230781"><span id="local-6989586621679230782"><span id="local-6989586621679230783"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-509"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230783"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230782"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230781"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230780"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230779"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-510"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaTypeDef"><span class="hs-identifier hs-type">GToSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230783"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230782"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230781"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230780"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230778"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230779"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-511"></span><span>  </span><span id="local-6989586621679230776"><span class="annot"><span class="annottext">toSchemaTypeDef :: Proxy fmap -&gt; C1 meta f a -&gt; Term sch ('DRecord name args)
</span><a href="#local-6989586621679230776"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679230775"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230775"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679230774"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679230774"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; Term sch ('DRecord name args)
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GToSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; f a -&gt; Term sch t
</span><a href="Mu.Schema.Class.html#toSchemaTypeDef"><span class="hs-identifier hs-var">toSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230775"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679230774"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-512"></span><span id="local-6989586621679230768"><span id="local-6989586621679230769"><span id="local-6989586621679230770"><span id="local-6989586621679230771"><span id="local-6989586621679230772"><span id="local-6989586621679230773"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-513"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230773"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230772"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230771"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230770"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230769"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-514"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaTypeDef"><span class="hs-identifier hs-type">GFromSchemaTypeDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230773"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230772"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#DRecord"><span class="hs-identifier hs-type">DRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230771"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230770"><span class="hs-identifier hs-type">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">C1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230768"><span class="hs-identifier hs-type">meta</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230769"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-515"></span><span>  </span><span id="local-6989586621679230766"><span class="annot"><span class="annottext">fromSchemaTypeDef :: Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; C1 meta f a
</span><a href="#local-6989586621679230766"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaTypeDef</span></a></span></span><span> </span><span id="local-6989586621679230765"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230765"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679230764"><span class="annot"><span class="annottext">x :: Term sch ('DRecord name args)
</span><a href="#local-6989586621679230764"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; C1 meta f a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy fmap -&gt; Term sch ('DRecord name args) -&gt; f a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (t :: TypeDef ts fs) (f :: * -&gt; *) a.
GFromSchemaTypeDef sch fmap t f =&gt;
Proxy fmap -&gt; Term sch t -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaTypeDef"><span class="hs-identifier hs-var">fromSchemaTypeDef</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230765"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Term sch ('DRecord name args)
</span><a href="#local-6989586621679230764"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-516"></span><span>
</span><span id="line-517"></span><span class="hs-comment">-- 'toSchema' for records:</span><span>
</span><span id="line-518"></span><span class="hs-comment">-- 1. iterate over each field in the schema of the record</span><span>
</span><span id="line-519"></span><span class="hs-comment">--    this is done by 'GToSchemaRecord'</span><span>
</span><span id="line-520"></span><span class="hs-comment">-- 2. figure out the selector (field) in the Haskell type</span><span>
</span><span id="line-521"></span><span class="hs-comment">--    to which that record corresponds to</span><span>
</span><span id="line-522"></span><span class="hs-comment">--    this is done by 'MappingLeft' and 'FindSel'</span><span>
</span><span id="line-523"></span><span class="hs-comment">-- 3. using that location, obtain the value of the field</span><span>
</span><span id="line-524"></span><span class="hs-comment">--    this is done by 'GToSchemaRecordSearch'</span><span>
</span><span id="line-525"></span><span class="hs-comment">--</span><span>
</span><span id="line-526"></span><span class="hs-comment">-- Due to some glitch in 'GHC.Generics', sometimes products</span><span>
</span><span id="line-527"></span><span class="hs-comment">-- are not represented by a linear sequence of ':*:',</span><span>
</span><span id="line-528"></span><span class="hs-comment">-- so we need to handle some cases in a special way</span><span>
</span><span id="line-529"></span><span class="hs-comment">-- (see 'HereLeft' and 'HereRight' instances)</span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span class="hs-comment">-- | For internal use only: generic conversion of a list of fields.</span><span>
</span><span id="line-532"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-var">GToSchemaRecord</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231642"><span class="annot"><a href="#local-6989586621679231642"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679231644"><span class="annot"><a href="#local-6989586621679231644"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679231643"><span class="annot"><a href="#local-6989586621679231643"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231641"><span class="annot"><a href="#local-6989586621679231641"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679231643"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-533"></span><span>                      </span><span class="hs-special">(</span><span id="local-6989586621679231640"><span class="annot"><a href="#local-6989586621679231640"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231644"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231643"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231639"><span class="annot"><a href="#local-6989586621679231639"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-534"></span><span>  </span><span id="local-6989586621679231638"><span id="toSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaRecord"><span class="hs-identifier hs-type">toSchemaRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231641"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231639"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231638"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231642"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231640"><span class="hs-identifier hs-type">args</span></a></span></span><span>
</span><span id="line-535"></span><span id="local-6989586621679230761"><span id="local-6989586621679230762"><span id="local-6989586621679230763"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230763"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230762"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679230761"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-536"></span><span>  </span><span id="local-6989586621679230758"><span class="annot"><span class="annottext">toSchemaRecord :: Proxy fmap -&gt; f a -&gt; NP (Field sch) '[]
</span><a href="#local-6989586621679230758"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecord</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) '[]
forall k (a :: k -&gt; *). NP a '[]
</span><span class="hs-identifier hs-var">Nil</span></span></span></span></span><span>
</span><span id="line-537"></span><span id="local-6989586621679230751"><span id="local-6989586621679230752"><span id="local-6989586621679230753"><span id="local-6989586621679230754"><span id="local-6989586621679230755"><span id="local-6989586621679230756"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230756"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230755"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230754"><span class="hs-identifier hs-type">cs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230753"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-538"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230756"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230752"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230753"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-type">FindSel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230753"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230755"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230751"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-539"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecord"><span class="hs-identifier hs-type">GToSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230756"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230755"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230751"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230752"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230754"><span class="hs-identifier hs-type">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230753"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-540"></span><span>  </span><span id="local-6989586621679230749"><span class="annot"><span class="annottext">toSchemaRecord :: Proxy fmap -&gt; f a -&gt; NP (Field sch) ('FieldDef name t : cs)
</span><a href="#local-6989586621679230749"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecord</span></a></span></span><span> </span><span id="local-6989586621679230748"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230748"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679230747"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679230747"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field sch ('FieldDef name t)
</span><a href="#local-6989586621679230746"><span class="hs-identifier hs-var">this</span></a></span><span> </span><span class="annot"><span class="annottext">Field sch ('FieldDef name t)
-&gt; NP (Field sch) cs -&gt; NP (Field sch) ('FieldDef name t : cs)
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><span class="hs-operator hs-var">:*</span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; f a -&gt; NP (Field sch) cs
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GToSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; f a -&gt; NP (Field sch) args
</span><a href="Mu.Schema.Class.html#toSchemaRecord"><span class="hs-identifier hs-var">toSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230748"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679230747"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-541"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679230746"><span class="annot"><span class="annottext">this :: Field sch ('FieldDef name t)
</span><a href="#local-6989586621679230746"><span class="hs-identifier hs-var hs-var">this</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; Field sch ('FieldDef name t)
forall typeName fieldName (sch :: Schema typeName fieldName)
       (t :: FieldType typeName) (name :: fieldName).
FieldValue sch t -&gt; Field sch ('FieldDef name t)
</span><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindSel f (MappingLeft fmap name))
-&gt; f a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) (wh :: Where) a.
GToSchemaRecordSearch sch t f wh =&gt;
Proxy wh -&gt; f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-var">toSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindSel f (MappingLeft fmap name))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindSel"><span class="hs-identifier hs-type">FindSel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230753"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingLeft"><span class="hs-identifier hs-type">MappingLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230755"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230751"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679230747"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span class="hs-keyword">class</span><span> </span><span id="GToSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-var">GToSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231555"><span class="annot"><a href="#local-6989586621679231555"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679231557"><span class="annot"><a href="#local-6989586621679231557"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679231556"><span class="annot"><a href="#local-6989586621679231556"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-544"></span><span>                            </span><span class="hs-special">(</span><span id="local-6989586621679231554"><span class="annot"><a href="#local-6989586621679231554"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#FieldType"><span class="hs-identifier hs-type">FieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231557"><span class="hs-identifier hs-type">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231553"><span class="annot"><a href="#local-6989586621679231553"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231552"><span class="annot"><a href="#local-6989586621679231552"><span class="hs-identifier hs-type">wh</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-545"></span><span>  </span><span id="local-6989586621679231551"><span id="toSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-type">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231552"><span class="hs-identifier hs-type">wh</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231553"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231551"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Interpretation.html#FieldValue"><span class="hs-identifier hs-type">FieldValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231555"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231554"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-546"></span><span id="local-6989586621679230738"><span id="local-6989586621679230739"><span id="local-6989586621679230740"><span id="local-6989586621679230741"><span id="local-6989586621679230742"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230742"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230741"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230740"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-547"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230742"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230741"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230739"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230738"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230740"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-548"></span><span>  </span><span id="local-6989586621679230735"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy 'Here -&gt; S1 m (K1 i v) a -&gt; FieldValue sch t
</span><a href="#local-6989586621679230735"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679230734"><span class="annot"><span class="annottext">x :: v
</span><a href="#local-6989586621679230734"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679230734"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-549"></span><span id="local-6989586621679230728"><span id="local-6989586621679230729"><span id="local-6989586621679230730"><span id="local-6989586621679230731"><span id="local-6989586621679230732"><span id="local-6989586621679230733"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230733"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230732"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230731"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-550"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230733"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230732"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230730"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230729"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230731"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230728"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-551"></span><span>  </span><span id="local-6989586621679230726"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy 'Here -&gt; (:*:) (S1 m (K1 i v)) rest a -&gt; FieldValue sch t
</span><a href="#local-6989586621679230726"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679230725"><span class="annot"><span class="annottext">x :: v
</span><a href="#local-6989586621679230725"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679230725"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-552"></span><span id="local-6989586621679230717"><span id="local-6989586621679230718"><span id="local-6989586621679230719"><span id="local-6989586621679230720"><span id="local-6989586621679230721"><span id="local-6989586621679230722"><span id="local-6989586621679230723"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230723"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230722"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230721"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-553"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230723"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230722"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230720"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230719"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230721"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230718"><span class="hs-identifier hs-type">other</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230717"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#HereLeft"><span class="hs-identifier hs-type">HereLeft</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-554"></span><span>  </span><span id="local-6989586621679230715"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy 'HereLeft
-&gt; (:*:) (S1 m (K1 i v) :*: other) rest a -&gt; FieldValue sch t
</span><a href="#local-6989586621679230715"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679230714"><span class="annot"><span class="annottext">x :: v
</span><a href="#local-6989586621679230714"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679230714"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-555"></span><span id="local-6989586621679230707"><span id="local-6989586621679230708"><span id="local-6989586621679230709"><span id="local-6989586621679230710"><span id="local-6989586621679230711"><span id="local-6989586621679230712"><span id="local-6989586621679230713"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230713"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230712"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230711"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-556"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230713"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230712"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230710"><span class="hs-identifier hs-type">other</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230709"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230708"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230711"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230707"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#HereRight"><span class="hs-identifier hs-type">HereRight</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-557"></span><span>  </span><span id="local-6989586621679230705"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy 'HereRight
-&gt; (:*:) (other :*: S1 m (K1 i v)) rest a -&gt; FieldValue sch t
</span><a href="#local-6989586621679230705"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679230704"><span class="annot"><span class="annottext">x :: v
</span><a href="#local-6989586621679230704"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679230704"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-558"></span><span id="local-6989586621679230696"><span id="local-6989586621679230697"><span id="local-6989586621679230698"><span id="local-6989586621679230699"><span id="local-6989586621679230700"><span id="local-6989586621679230701"><span id="local-6989586621679230702"><span id="local-6989586621679230703"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230703"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230702"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230701"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-559"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230703"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230702"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230700"><span class="hs-identifier hs-type">other1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230699"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230698"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230701"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230697"><span class="hs-identifier hs-type">other2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230696"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#HereRightThenLeft"><span class="hs-identifier hs-type">HereRightThenLeft</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-560"></span><span>  </span><span id="local-6989586621679230694"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy 'HereRightThenLeft
-&gt; (:*:) (other1 :*: (S1 m (K1 i v) :*: other2)) rest a
-&gt; FieldValue sch t
</span><a href="#local-6989586621679230694"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679230693"><span class="annot"><span class="annottext">x :: v
</span><a href="#local-6989586621679230693"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679230693"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-561"></span><span id="local-6989586621679230685"><span id="local-6989586621679230686"><span id="local-6989586621679230687"><span id="local-6989586621679230688"><span id="local-6989586621679230689"><span id="local-6989586621679230690"><span id="local-6989586621679230691"><span id="local-6989586621679230692"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaFieldType"><span class="hs-identifier hs-type">GToSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230692"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230691"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230690"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-562"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230692"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230691"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230689"><span class="hs-identifier hs-type">other1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230688"><span class="hs-identifier hs-type">other2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230687"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230686"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230690"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230685"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#HereTwoRights"><span class="hs-identifier hs-type">HereTwoRights</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-563"></span><span>  </span><span id="local-6989586621679230683"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy 'HereTwoRights
-&gt; (:*:) (other1 :*: (other2 :*: S1 m (K1 i v))) rest a
-&gt; FieldValue sch t
</span><a href="#local-6989586621679230683"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679230682"><span class="annot"><span class="annottext">x :: v
</span><a href="#local-6989586621679230682"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GToSchemaFieldType sch t f =&gt;
f -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaFieldType"><span class="hs-identifier hs-var">toSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679230682"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-564"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679230680"><span class="annot"><a href="#local-6989586621679230680"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span id="local-6989586621679230679"><span class="annot"><a href="#local-6989586621679230679"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679230678"><span class="annot"><a href="#local-6989586621679230678"><span class="hs-identifier hs-type">other</span></a></span></span><span> </span><span id="local-6989586621679230677"><span class="annot"><a href="#local-6989586621679230677"><span class="hs-identifier hs-type">rest</span></a></span></span><span> </span><span id="local-6989586621679230676"><span class="annot"><a href="#local-6989586621679230676"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-565"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230680"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230679"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230677"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230676"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-566"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GToSchemaRecordSearch"><span class="hs-identifier hs-type">GToSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230680"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230679"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230678"><span class="hs-identifier hs-type">other</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230677"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230676"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-567"></span><span>  </span><span id="local-6989586621679230675"><span class="annot"><span class="annottext">toSchemaRecordSearch :: Proxy ('There n) -&gt; (:*:) other rest a -&gt; FieldValue sch t
</span><a href="#local-6989586621679230675"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679230674"><span class="annot"><span class="annottext">xs :: rest a
</span><a href="#local-6989586621679230674"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy n -&gt; rest a -&gt; FieldValue sch t
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts)
       (f :: * -&gt; *) (wh :: Where) a.
GToSchemaRecordSearch sch t f wh =&gt;
Proxy wh -&gt; f a -&gt; FieldValue sch t
</span><a href="Mu.Schema.Class.html#toSchemaRecordSearch"><span class="hs-identifier hs-var">toSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679230676"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">rest a
</span><a href="#local-6989586621679230674"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span class="hs-comment">-- 'fromSchema' for records</span><span>
</span><span id="line-570"></span><span class="hs-comment">-- 1. decompose the sequence of products into atomic components</span><span>
</span><span id="line-571"></span><span class="hs-comment">--    until we arrive to the selector metadata 'S1'</span><span>
</span><span id="line-572"></span><span class="hs-comment">--    this is done by 'GFromSchemaRecord'</span><span>
</span><span id="line-573"></span><span class="hs-comment">-- 2. figure out the field in the schema it corresponds to</span><span>
</span><span id="line-574"></span><span class="hs-comment">--    this is done by 'MappingRight' and 'FindField'</span><span>
</span><span id="line-575"></span><span class="hs-comment">-- 3. using that location, obtain the value of the field</span><span>
</span><span id="line-576"></span><span class="hs-comment">--    this is done by 'GFromSchemaRecordSearch'</span><span>
</span><span id="line-577"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-var">GFromSchemaRecord</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231625"><span class="annot"><a href="#local-6989586621679231625"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679231627"><span class="annot"><a href="#local-6989586621679231627"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679231626"><span class="annot"><a href="#local-6989586621679231626"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231624"><span class="annot"><a href="#local-6989586621679231624"><span class="hs-identifier hs-type">fmap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Mappings"><span class="hs-identifier hs-type">Mappings</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="annot"><a href="#local-6989586621679231626"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-578"></span><span>                        </span><span class="hs-special">(</span><span id="local-6989586621679231623"><span class="annot"><a href="#local-6989586621679231623"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231627"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231626"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231622"><span class="annot"><a href="#local-6989586621679231622"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-579"></span><span>  </span><span id="local-6989586621679231621"><span id="fromSchemaRecord"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-type">fromSchemaRecord</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231624"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231625"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231623"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231622"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231621"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-580"></span><span id="local-6989586621679230665"><span id="local-6989586621679230666"><span id="local-6989586621679230667"><span id="local-6989586621679230668"><span id="local-6989586621679230669"><span id="local-6989586621679230670"><span id="local-6989586621679230671"><span id="local-6989586621679230672"><span id="local-6989586621679230673"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230673"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230672"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230671"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-type">FindField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230671"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230670"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230669"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-581"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230673"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230670"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230671"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S1</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaSel</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679230669"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679230668"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230667"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230666"><span class="hs-identifier hs-type">ds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679230665"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230672"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-582"></span><span>  </span><span id="local-6989586621679230662"><span class="annot"><span class="annottext">fromSchemaRecord :: Proxy fmap
-&gt; NP (Field sch) args
-&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a
</span><a href="#local-6989586621679230662"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecord</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679230661"><span class="annot"><span class="annottext">x :: NP (Field sch) args
</span><a href="#local-6989586621679230661"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-583"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">K1 i v a -&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a
forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">(K1 i v a -&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a)
-&gt; K1 i v a -&gt; S1 ('MetaSel ('Just name) u ss ds) (K1 i v) a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; K1 i v a
forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">(v -&gt; K1 i v a) -&gt; v -&gt; K1 i v a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Proxy (FindField args (MappingRight fmap name))
-&gt; NP (Field sch) args -&gt; v
forall ts fs (sch :: Schema ts fs) v (args :: [FieldDef ts fs])
       (wh :: Where).
GFromSchemaRecordSearch sch v args wh =&gt;
Proxy wh -&gt; NP (Field sch) args -&gt; v
</span><a href="Mu.Schema.Class.html#fromSchemaRecordSearch"><span class="hs-identifier hs-var">fromSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (FindField args (MappingRight fmap name))
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#FindField"><span class="hs-identifier hs-type">FindField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230671"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Definition.html#MappingRight"><span class="hs-identifier hs-type">MappingRight</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230670"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230669"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679230661"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-584"></span><span id="local-6989586621679230655"><span id="local-6989586621679230656"><span id="local-6989586621679230657"><span id="local-6989586621679230658"><span id="local-6989586621679230659"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230659"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230658"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230657"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230656"><span class="hs-identifier hs-type">oneway</span></a></span><span>
</span><span id="line-585"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230659"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230658"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230657"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230655"><span class="hs-identifier hs-type">oranother</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230659"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230658"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230657"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230656"><span class="hs-identifier hs-type">oneway</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679230655"><span class="hs-identifier hs-type">oranother</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-587"></span><span>  </span><span id="local-6989586621679230653"><span class="annot"><span class="annottext">fromSchemaRecord :: Proxy fmap -&gt; NP (Field sch) args -&gt; (:*:) oneway oranother a
</span><a href="#local-6989586621679230653"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecord</span></a></span></span><span> </span><span id="local-6989586621679230652"><span class="annot"><span class="annottext">p :: Proxy fmap
</span><a href="#local-6989586621679230652"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679230651"><span class="annot"><span class="annottext">x :: NP (Field sch) args
</span><a href="#local-6989586621679230651"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NP (Field sch) args -&gt; oneway a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GFromSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; NP (Field sch) args -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-var">fromSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230652"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679230651"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">oneway a -&gt; oranother a -&gt; (:*:) oneway oranother a
forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">Proxy fmap -&gt; NP (Field sch) args -&gt; oranother a
forall ts fs (sch :: Schema ts fs) (fmap :: Mappings Symbol fs)
       (args :: [FieldDef ts fs]) (f :: * -&gt; *) a.
GFromSchemaRecord sch fmap args f =&gt;
Proxy fmap -&gt; NP (Field sch) args -&gt; f a
</span><a href="Mu.Schema.Class.html#fromSchemaRecord"><span class="hs-identifier hs-var">fromSchemaRecord</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy fmap
</span><a href="#local-6989586621679230652"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Field sch) args
</span><a href="#local-6989586621679230651"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-588"></span><span id="local-6989586621679230648"><span id="local-6989586621679230649"><span id="local-6989586621679230650"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecord"><span class="hs-identifier hs-type">GFromSchemaRecord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230650"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230649"><span class="hs-identifier hs-type">fmap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230648"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-589"></span><span>  </span><span id="local-6989586621679230646"><span class="annot"><span class="annottext">fromSchemaRecord :: Proxy fmap -&gt; NP (Field sch) args -&gt; U1 a
</span><a href="#local-6989586621679230646"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecord</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">U1 a
forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span></span></span></span><span>
</span><span id="line-590"></span><span>
</span><span id="line-591"></span><span class="hs-keyword">class</span><span> </span><span id="GFromSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-var">GFromSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231460"><span class="annot"><a href="#local-6989586621679231460"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Definition.html#Schema"><span class="hs-identifier hs-type">Schema</span></a></span><span> </span><span id="local-6989586621679231462"><span class="annot"><a href="#local-6989586621679231462"><span class="hs-identifier hs-type hs-type">ts</span></a></span></span><span> </span><span id="local-6989586621679231461"><span class="annot"><a href="#local-6989586621679231461"><span class="hs-identifier hs-type hs-type">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span>                              </span><span class="hs-special">(</span><span id="local-6989586621679231459"><span class="annot"><a href="#local-6989586621679231459"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231458"><span class="annot"><a href="#local-6989586621679231458"><span class="hs-identifier hs-type">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231462"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231461"><span class="hs-identifier hs-type">fs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679231457"><span class="annot"><a href="#local-6989586621679231457"><span class="hs-identifier hs-type">wh</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#Where"><span class="hs-identifier hs-type">Where</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-593"></span><span>  </span><span id="fromSchemaRecordSearch"><span class="annot"><a href="Mu.Schema.Class.html#fromSchemaRecordSearch"><span class="hs-identifier hs-type">fromSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Proxy</span></span><span> </span><span class="annot"><a href="#local-6989586621679231457"><span class="hs-identifier hs-type">wh</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679231460"><span class="hs-identifier hs-type">sch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679231458"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679231459"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-594"></span><span id="local-6989586621679230641"><span id="local-6989586621679230642"><span id="local-6989586621679230643"><span id="local-6989586621679230644"><span id="local-6989586621679230645"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaFieldType"><span class="hs-identifier hs-type">GFromSchemaFieldType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230645"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230644"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230643"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-595"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230645"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230643"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Definition.html#FieldDef"><span class="hs-identifier hs-type">FieldDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230642"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230644"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230641"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#Here"><span class="hs-identifier hs-type">Here</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-596"></span><span>  </span><span id="local-6989586621679230638"><span class="annot"><span class="annottext">fromSchemaRecordSearch :: Proxy 'Here -&gt; NP (Field sch) ('FieldDef name t : rest) -&gt; v
</span><a href="#local-6989586621679230638"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Mu.Schema.Interpretation.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span id="local-6989586621679230637"><span class="annot"><span class="annottext">x :: FieldValue sch t
</span><a href="#local-6989586621679230637"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldValue sch t -&gt; v
forall ts fs (sch :: Schema ts fs) (t :: FieldType ts) f.
GFromSchemaFieldType sch t f =&gt;
FieldValue sch t -&gt; f
</span><a href="Mu.Schema.Class.html#fromSchemaFieldType"><span class="hs-identifier hs-var">fromSchemaFieldType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldValue sch t
</span><a href="#local-6989586621679230637"><span class="hs-identifier hs-var">x</span></a></span></span></span></span></span></span><span>
</span><span id="line-597"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679230635"><span class="annot"><a href="#local-6989586621679230635"><span class="hs-identifier hs-type">sch</span></a></span></span><span> </span><span id="local-6989586621679230634"><span class="annot"><a href="#local-6989586621679230634"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679230633"><span class="annot"><a href="#local-6989586621679230633"><span class="hs-identifier hs-type">other</span></a></span></span><span> </span><span id="local-6989586621679230632"><span class="annot"><a href="#local-6989586621679230632"><span class="hs-identifier hs-type">rest</span></a></span></span><span> </span><span id="local-6989586621679230631"><span class="annot"><a href="#local-6989586621679230631"><span class="hs-identifier hs-type">n</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-598"></span><span>         </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230635"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230634"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230632"><span class="hs-identifier hs-type">rest</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230631"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-599"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Mu.Schema.Class.html#GFromSchemaRecordSearch"><span class="hs-identifier hs-type">GFromSchemaRecordSearch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230635"><span class="hs-identifier hs-type">sch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230634"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679230633"><span class="hs-identifier hs-type">other</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679230632"><span class="hs-identifier hs-type">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Mu.Schema.Class.html#There"><span class="hs-identifier hs-type">There</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679230631"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-600"></span><span>  </span><span id="local-6989586621679230630"><span class="annot"><span class="annottext">fromSchemaRecordSearch :: Proxy ('There n) -&gt; NP (Field sch) (other : rest) -&gt; v
</span><a href="#local-6989586621679230630"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromSchemaRecordSearch</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*</span></span><span> </span><span id="local-6989586621679230629"><span class="annot"><span class="annottext">xs :: NP (Field sch) xs
</span><a href="#local-6989586621679230629"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy n -&gt; NP (Field sch) xs -&gt; v
forall ts fs (sch :: Schema ts fs) v (args :: [FieldDef ts fs])
       (wh :: Where).
GFromSchemaRecordSearch sch v args wh =&gt;
Proxy wh -&gt; NP (Field sch) args -&gt; v
</span><a href="Mu.Schema.Class.html#fromSchemaRecordSearch"><span class="hs-identifier hs-var">fromSchemaRecordSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy n
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679230631"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NP (Field sch) xs
</span><a href="#local-6989586621679230629"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-601"></span></pre></body></html>