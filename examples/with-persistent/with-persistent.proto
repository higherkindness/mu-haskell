syntax = "proto3";

import "google/protobuf/empty.proto";

package withpersistent;

message PersonId { int32 id = 1; }
message Person { PersonId personId = 1; string name = 2; int32 age = 3; }

service PersistentService {
  rpc getPerson (PersonId) returns (Person);
  rpc newPerson (Person) returns (PersonId);
  rpc allPeople (google.protobuf.Empty) returns (stream Person);
}
